<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 19 Cleaning Data | R for HR: An Introduction to Human Resource Analytics Using R BOOK UNDER CONSTRUCTION</title>
  <meta name="description" content="Human resource (HR) analytics is a growing area of HR manage, and the purpose of this book is to show how the R programming language can be used as tool to manage, analyze, and visualize HR data in order to derive insights and to inform decision making. [NOTE: This book is currently under construction.]" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 19 Cleaning Data | R for HR: An Introduction to Human Resource Analytics Using R BOOK UNDER CONSTRUCTION" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://rforhr.com" />
  <meta property="og:image" content="https://rforhr.comcover.png" />
  <meta property="og:description" content="Human resource (HR) analytics is a growing area of HR manage, and the purpose of this book is to show how the R programming language can be used as tool to manage, analyze, and visualize HR data in order to derive insights and to inform decision making. [NOTE: This book is currently under construction.]" />
  <meta name="github-repo" content="davidcaughlin/R-for-HR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 19 Cleaning Data | R for HR: An Introduction to Human Resource Analytics Using R BOOK UNDER CONSTRUCTION" />
  
  <meta name="twitter:description" content="Human resource (HR) analytics is a growing area of HR manage, and the purpose of this book is to show how the R programming language can be used as tool to manage, analyze, and visualize HR data in order to derive insights and to inform decision making. [NOTE: This book is currently under construction.]" />
  <meta name="twitter:image" content="https://rforhr.comcover.png" />

<meta name="author" content="David E. Caughlin" />


<meta name="date" content="2021-12-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="filter.html"/>
<link rel="next" href="aggregatesegment.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for HR</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#hragrowth"><i class="fa fa-check"></i><b>0.1</b> Growth of HR Analytics</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#skills-gap"><i class="fa fa-check"></i><b>0.2</b> Skills Gap</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#hraplc"><i class="fa fa-check"></i><b>0.3</b> Project Life Cycle Perspective</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#philosophy"><i class="fa fa-check"></i><b>0.4</b> My Philosophy for This Book</a>
<ul>
<li class="chapter" data-level="0.4.1" data-path="index.html"><a href="index.html#rationalerpref"><i class="fa fa-check"></i><b>0.4.1</b> Rationale for Using R</a></li>
<li class="chapter" data-level="0.4.2" data-path="index.html"><a href="index.html#audiencepref"><i class="fa fa-check"></i><b>0.4.2</b> Audience</a></li>
<li class="chapter" data-level="0.4.3" data-path="index.html"><a href="index.html#structurepref"><i class="fa fa-check"></i><b>0.4.3</b> Structure</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#aboutauthor"><i class="fa fa-check"></i><b>0.5</b> About the Author</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#acknowpref"><i class="fa fa-check"></i><b>0.6</b> Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>I HR Analytics Project Life Cycle</b></span></li>
<li class="chapter" data-level="1" data-path="overviewhraplc.html"><a href="overviewhraplc.html"><i class="fa fa-check"></i><b>1</b> Overview of HR Analytics Project Life Cycle</a></li>
<li class="chapter" data-level="2" data-path="questionformulation.html"><a href="questionformulation.html"><i class="fa fa-check"></i><b>2</b> Question Formulation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="questionformulation.html"><a href="questionformulation.html#adoptstrategicmindset"><i class="fa fa-check"></i><b>2.1</b> Adopting a Strategic Mindset</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="questionformulation.html"><a href="questionformulation.html#strategy"><i class="fa fa-check"></i><b>2.1.1</b> Strategy</a></li>
<li class="chapter" data-level="2.1.2" data-path="questionformulation.html"><a href="questionformulation.html#strategyformulation"><i class="fa fa-check"></i><b>2.1.2</b> Strategy Formulation</a></li>
<li class="chapter" data-level="2.1.3" data-path="questionformulation.html"><a href="questionformulation.html#strategyimplementation"><i class="fa fa-check"></i><b>2.1.3</b> Strategy Implementation</a></li>
<li class="chapter" data-level="2.1.4" data-path="questionformulation.html"><a href="questionformulation.html#strategichrm"><i class="fa fa-check"></i><b>2.1.4</b> Strategic Human Resource Management</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="questionformulation.html"><a href="questionformulation.html#defining-problems-formulating-questions"><i class="fa fa-check"></i><b>2.2</b> Defining Problems &amp; Formulating Questions</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="questionformulation.html"><a href="questionformulation.html#definingaproblem"><i class="fa fa-check"></i><b>2.2.1</b> Defining a Problem</a></li>
<li class="chapter" data-level="2.2.2" data-path="questionformulation.html"><a href="questionformulation.html#formulatingaquestion"><i class="fa fa-check"></i><b>2.2.2</b> Formulating a Question</a></li>
<li class="chapter" data-level="2.2.3" data-path="questionformulation.html"><a href="questionformulation.html#divergentconvergentthinking"><i class="fa fa-check"></i><b>2.2.3</b> Thinking Divergently &amp; Convergently</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="questionformulation.html"><a href="questionformulation.html#summary"><i class="fa fa-check"></i><b>2.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataacquisition.html"><a href="dataacquisition.html"><i class="fa fa-check"></i><b>3</b> Data Acquisition</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dataacquisition.html"><a href="dataacquisition.html#employee-surveys"><i class="fa fa-check"></i><b>3.1</b> Employee Surveys</a></li>
<li class="chapter" data-level="3.2" data-path="dataacquisition.html"><a href="dataacquisition.html#rating-forms"><i class="fa fa-check"></i><b>3.2</b> Rating Forms</a></li>
<li class="chapter" data-level="3.3" data-path="dataacquisition.html"><a href="dataacquisition.html#surveillance-monitoring"><i class="fa fa-check"></i><b>3.3</b> Surveillance &amp; Monitoring</a></li>
<li class="chapter" data-level="3.4" data-path="dataacquisition.html"><a href="dataacquisition.html#database-queries"><i class="fa fa-check"></i><b>3.4</b> Database Queries</a></li>
<li class="chapter" data-level="3.5" data-path="dataacquisition.html"><a href="dataacquisition.html#scraping"><i class="fa fa-check"></i><b>3.5</b> Scraping</a></li>
<li class="chapter" data-level="3.6" data-path="dataacquisition.html"><a href="dataacquisition.html#summary-1"><i class="fa fa-check"></i><b>3.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datamanagement.html"><a href="datamanagement.html"><i class="fa fa-check"></i><b>4</b> Data Management</a>
<ul>
<li class="chapter" data-level="4.1" data-path="datamanagement.html"><a href="datamanagement.html#datamanage_clean"><i class="fa fa-check"></i><b>4.1</b> Data Cleaning</a></li>
<li class="chapter" data-level="4.2" data-path="datamanagement.html"><a href="datamanagement.html#datamanage_manipulate"><i class="fa fa-check"></i><b>4.2</b> Data Manipulation &amp; Structuring</a></li>
<li class="chapter" data-level="4.3" data-path="datamanagement.html"><a href="datamanagement.html#datamanage_tools"><i class="fa fa-check"></i><b>4.3</b> Common Data-Management Tools</a></li>
<li class="chapter" data-level="4.4" data-path="datamanagement.html"><a href="datamanagement.html#summary-2"><i class="fa fa-check"></i><b>4.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataanalysis.html"><a href="dataanalysis.html"><i class="fa fa-check"></i><b>5</b> Data Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dataanalysis.html"><a href="dataanalysis.html#dataanalysis_toolstechniques"><i class="fa fa-check"></i><b>5.1</b> Tools &amp; Techniques</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="dataanalysis.html"><a href="dataanalysis.html#mathematics"><i class="fa fa-check"></i><b>5.1.1</b> Mathematics</a></li>
<li class="chapter" data-level="5.1.2" data-path="dataanalysis.html"><a href="dataanalysis.html#statistics"><i class="fa fa-check"></i><b>5.1.2</b> Statistics</a></li>
<li class="chapter" data-level="5.1.3" data-path="dataanalysis.html"><a href="dataanalysis.html#machinelearning"><i class="fa fa-check"></i><b>5.1.3</b> Machine Learning</a></li>
<li class="chapter" data-level="5.1.4" data-path="dataanalysis.html"><a href="dataanalysis.html#computationalmodelsimulation"><i class="fa fa-check"></i><b>5.1.4</b> Computational Modeling &amp; Simulations</a></li>
<li class="chapter" data-level="5.1.5" data-path="dataanalysis.html"><a href="dataanalysis.html#textqualitativeanalyses"><i class="fa fa-check"></i><b>5.1.5</b> Text Analyses &amp; Qualitative Analyses</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dataanalysis.html"><a href="dataanalysis.html#continuum_dataanalytics"><i class="fa fa-check"></i><b>5.2</b> Continuum of Data Analytics</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="dataanalysis.html"><a href="dataanalysis.html#descriptive_analytics"><i class="fa fa-check"></i><b>5.2.1</b> Descriptive Analytics</a></li>
<li class="chapter" data-level="5.2.2" data-path="dataanalysis.html"><a href="dataanalysis.html#predictish_analytics"><i class="fa fa-check"></i><b>5.2.2</b> Predict-ish Analytics</a></li>
<li class="chapter" data-level="5.2.3" data-path="dataanalysis.html"><a href="dataanalysis.html#predictive_analytics"><i class="fa fa-check"></i><b>5.2.3</b> Predictive Analytics</a></li>
<li class="chapter" data-level="5.2.4" data-path="dataanalysis.html"><a href="dataanalysis.html#prescriptive_analytics"><i class="fa fa-check"></i><b>5.2.4</b> Prescriptive Analytics</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="dataanalysis.html"><a href="dataanalysis.html#summary-3"><i class="fa fa-check"></i><b>5.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="datainterpretationstorytelling.html"><a href="datainterpretationstorytelling.html"><i class="fa fa-check"></i><b>6</b> Data Interpretation &amp; Storytelling</a>
<ul>
<li class="chapter" data-level="6.1" data-path="datainterpretationstorytelling.html"><a href="datainterpretationstorytelling.html#datainterpretation"><i class="fa fa-check"></i><b>6.1</b> Data Interpretation</a></li>
<li class="chapter" data-level="6.2" data-path="datainterpretationstorytelling.html"><a href="datainterpretationstorytelling.html#storytelling"><i class="fa fa-check"></i><b>6.2</b> Storytelling</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="datainterpretationstorytelling.html"><a href="datainterpretationstorytelling.html#structure"><i class="fa fa-check"></i><b>6.2.1</b> Structure</a></li>
<li class="chapter" data-level="6.2.2" data-path="datainterpretationstorytelling.html"><a href="datainterpretationstorytelling.html#clarity-parsimony"><i class="fa fa-check"></i><b>6.2.2</b> Clarity &amp; Parsimony</a></li>
<li class="chapter" data-level="6.2.3" data-path="datainterpretationstorytelling.html"><a href="datainterpretationstorytelling.html#influence-persuasion"><i class="fa fa-check"></i><b>6.2.3</b> Influence &amp; Persuasion</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="datainterpretationstorytelling.html"><a href="datainterpretationstorytelling.html#storytelling_withdata"><i class="fa fa-check"></i><b>6.3</b> Storytelling with Data</a></li>
<li class="chapter" data-level="6.4" data-path="datainterpretationstorytelling.html"><a href="datainterpretationstorytelling.html#summary-4"><i class="fa fa-check"></i><b>6.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="deploymentimplementation.html"><a href="deploymentimplementation.html"><i class="fa fa-check"></i><b>7</b> Deployment &amp; Implementation</a></li>
<li class="part"><span><b>II Introduction to R</b></span></li>
<li class="chapter" data-level="8" data-path="overviewR.html"><a href="overviewR.html"><i class="fa fa-check"></i><b>8</b> Overview of R &amp; RStudio</a>
<ul>
<li class="chapter" data-level="8.1" data-path="overviewR.html"><a href="overviewR.html#R_overview"><i class="fa fa-check"></i><b>8.1</b> R Programming Language</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="overviewR.html"><a href="overviewR.html#R_what"><i class="fa fa-check"></i><b>8.1.1</b> What Is R?</a></li>
<li class="chapter" data-level="8.1.2" data-path="overviewR.html"><a href="overviewR.html#R_why"><i class="fa fa-check"></i><b>8.1.2</b> Why Use R?</a></li>
<li class="chapter" data-level="8.1.3" data-path="overviewR.html"><a href="overviewR.html#R_who"><i class="fa fa-check"></i><b>8.1.3</b> Who Uses R?</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="overviewR.html"><a href="overviewR.html#RStudio_overview"><i class="fa fa-check"></i><b>8.2</b> RStudio</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="overviewR.html"><a href="overviewR.html#RStudio_what"><i class="fa fa-check"></i><b>8.2.1</b> What is RStudio?</a></li>
<li class="chapter" data-level="8.2.2" data-path="overviewR.html"><a href="overviewR.html#RStudio_why"><i class="fa fa-check"></i><b>8.2.2</b> Why RStudio?</a></li>
<li class="chapter" data-level="8.2.3" data-path="overviewR.html"><a href="overviewR.html#RStudio_who"><i class="fa fa-check"></i><b>8.2.3</b> Who Uses RStudio?</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="overviewR.html"><a href="overviewR.html#packages_overview"><i class="fa fa-check"></i><b>8.3</b> Packages</a></li>
<li class="chapter" data-level="8.4" data-path="overviewR.html"><a href="overviewR.html#summary-5"><i class="fa fa-check"></i><b>8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>9</b> Installing R &amp; RStudio</a>
<ul>
<li class="chapter" data-level="9.1" data-path="install.html"><a href="install.html#installR"><i class="fa fa-check"></i><b>9.1</b> Downloading &amp; Installing R</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="install.html"><a href="install.html#for-windows-operation-systems"><i class="fa fa-check"></i><b>9.1.1</b> For Windows Operation Systems</a></li>
<li class="chapter" data-level="9.1.2" data-path="install.html"><a href="install.html#for-mac-operating-systems"><i class="fa fa-check"></i><b>9.1.2</b> For Mac Operating Systems</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="install.html"><a href="install.html#installRStudio"><i class="fa fa-check"></i><b>9.2</b> Downloading &amp; Installing RStudio</a></li>
<li class="chapter" data-level="9.3" data-path="install.html"><a href="install.html#summary-6"><i class="fa fa-check"></i><b>9.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="gettingstarted.html"><a href="gettingstarted.html"><i class="fa fa-check"></i><b>10</b> Getting Started with R &amp; RStudio</a>
<ul>
<li class="chapter" data-level="10.1" data-path="gettingstarted.html"><a href="gettingstarted.html#orientation-to-rstudio"><i class="fa fa-check"></i><b>10.1</b> Orientation to RStudio</a></li>
<li class="chapter" data-level="10.2" data-path="gettingstarted.html"><a href="gettingstarted.html#createRscript"><i class="fa fa-check"></i><b>10.2</b> Creating &amp; Saving an R Script</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="gettingstarted.html"><a href="gettingstarted.html#creating-a-new-r-script"><i class="fa fa-check"></i><b>10.2.1</b> Creating a New R Script</a></li>
<li class="chapter" data-level="10.2.2" data-path="gettingstarted.html"><a href="gettingstarted.html#using-an-r-script"><i class="fa fa-check"></i><b>10.2.2</b> Using an R Script</a></li>
<li class="chapter" data-level="10.2.3" data-path="gettingstarted.html"><a href="gettingstarted.html#saving-an-r-script"><i class="fa fa-check"></i><b>10.2.3</b> Saving an R Script</a></li>
<li class="chapter" data-level="10.2.4" data-path="gettingstarted.html"><a href="gettingstarted.html#opening-a-saved-r-script"><i class="fa fa-check"></i><b>10.2.4</b> Opening a Saved R Script</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="gettingstarted.html"><a href="gettingstarted.html#creating-an-rstudio-project"><i class="fa fa-check"></i><b>10.3</b> Creating an RStudio Project</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="gettingstarted.html"><a href="gettingstarted.html#creating-a-new-rstudio-project"><i class="fa fa-check"></i><b>10.3.1</b> Creating a New RStudio Project</a></li>
<li class="chapter" data-level="10.3.2" data-path="gettingstarted.html"><a href="gettingstarted.html#opening-an-existing-rstudio-project"><i class="fa fa-check"></i><b>10.3.2</b> Opening an Existing RStudio Project</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="gettingstarted.html"><a href="gettingstarted.html#orientation-to-written-tutorials"><i class="fa fa-check"></i><b>10.4</b> Orientation to Written Tutorials</a></li>
<li class="chapter" data-level="10.5" data-path="gettingstarted.html"><a href="gettingstarted.html#summary-7"><i class="fa fa-check"></i><b>10.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="gentleintro.html"><a href="gentleintro.html"><i class="fa fa-check"></i><b>11</b> Basic Features and Operations of the R Language</a>
<ul>
<li class="chapter" data-level="11.1" data-path="gentleintro.html"><a href="gentleintro.html#r_as_calculator"><i class="fa fa-check"></i><b>11.1</b> R as a Calculator</a></li>
<li class="chapter" data-level="11.2" data-path="gentleintro.html"><a href="gentleintro.html#functions"><i class="fa fa-check"></i><b>11.2</b> Functions</a></li>
<li class="chapter" data-level="11.3" data-path="gentleintro.html"><a href="gentleintro.html#packages"><i class="fa fa-check"></i><b>11.3</b> Packages</a></li>
<li class="chapter" data-level="11.4" data-path="gentleintro.html"><a href="gentleintro.html#variableassignment"><i class="fa fa-check"></i><b>11.4</b> Variable Assignment</a></li>
<li class="chapter" data-level="11.5" data-path="gentleintro.html"><a href="gentleintro.html#typesofdata"><i class="fa fa-check"></i><b>11.5</b> Types of Data</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="gentleintro.html"><a href="gentleintro.html#numeric-data"><i class="fa fa-check"></i><b>11.5.1</b> <code>numeric</code> Data</a></li>
<li class="chapter" data-level="11.5.2" data-path="gentleintro.html"><a href="gentleintro.html#character-data"><i class="fa fa-check"></i><b>11.5.2</b> <code>character</code> Data</a></li>
<li class="chapter" data-level="11.5.3" data-path="gentleintro.html"><a href="gentleintro.html#date-data"><i class="fa fa-check"></i><b>11.5.3</b> <code>Date</code> Data</a></li>
<li class="chapter" data-level="11.5.4" data-path="gentleintro.html"><a href="gentleintro.html#logical-data"><i class="fa fa-check"></i><b>11.5.4</b> <code>logical</code> Data</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="gentleintro.html"><a href="gentleintro.html#vectors"><i class="fa fa-check"></i><b>11.6</b> Vectors</a></li>
<li class="chapter" data-level="11.7" data-path="gentleintro.html"><a href="gentleintro.html#lists"><i class="fa fa-check"></i><b>11.7</b> Lists</a></li>
<li class="chapter" data-level="11.8" data-path="gentleintro.html"><a href="gentleintro.html#dataframes"><i class="fa fa-check"></i><b>11.8</b> Data Frames</a></li>
<li class="chapter" data-level="11.9" data-path="gentleintro.html"><a href="gentleintro.html#annotate"><i class="fa fa-check"></i><b>11.9</b> Annotations</a></li>
<li class="chapter" data-level="11.10" data-path="gentleintro.html"><a href="gentleintro.html#summary-8"><i class="fa fa-check"></i><b>11.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="setwd.html"><a href="setwd.html"><i class="fa fa-check"></i><b>12</b> Setting a Working Directory</a>
<ul>
<li class="chapter" data-level="12.0.1" data-path="setwd.html"><a href="setwd.html#identify-the-current-working-directory"><i class="fa fa-check"></i><b>12.0.1</b> Identify the Current Working Directory</a></li>
<li class="chapter" data-level="12.0.2" data-path="setwd.html"><a href="setwd.html#set-a-new-working-directory"><i class="fa fa-check"></i><b>12.0.2</b> Set a New Working Directory</a></li>
<li class="chapter" data-level="12.1" data-path="setwd.html"><a href="setwd.html#summary-9"><i class="fa fa-check"></i><b>12.1</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>III Data Acquisition &amp; Management</b></span></li>
<li class="chapter" data-level="13" data-path="read.html"><a href="read.html"><i class="fa fa-check"></i><b>13</b> Reading Data into R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="read.html"><a href="read.html#readcsv"><i class="fa fa-check"></i><b>13.1</b> Read a .csv File</a></li>
<li class="chapter" data-level="13.2" data-path="read.html"><a href="read.html#readxlsx"><i class="fa fa-check"></i><b>13.2</b> Read a .xlsx File</a></li>
<li class="chapter" data-level="13.3" data-path="read.html"><a href="read.html#read_summary"><i class="fa fa-check"></i><b>13.3</b> Summary</a></li>
<li class="chapter" data-level="13.4" data-path="read.html"><a href="read.html#read_supplement"><i class="fa fa-check"></i><b>13.4</b> Chapter Supplement</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="read.html"><a href="read.html#read_additionalfunctions"><i class="fa fa-check"></i><b>13.4.1</b> Additional Functions to Read a .csv File</a></li>
<li class="chapter" data-level="13.4.2" data-path="read.html"><a href="read.html#read_skiprows"><i class="fa fa-check"></i><b>13.4.2</b> Skip Rows of Data During Read</a></li>
<li class="chapter" data-level="13.4.3" data-path="read.html"><a href="read.html#listdatafiles"><i class="fa fa-check"></i><b>13.4.3</b> List Data File Names in Working Directory</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="addnames.html"><a href="addnames.html"><i class="fa fa-check"></i><b>14</b> Removing and Adding Variable Names</a>
<ul>
<li class="chapter" data-level="14.1" data-path="addnames.html"><a href="addnames.html#remove-variable-names-from-a-data-frame-object"><i class="fa fa-check"></i><b>14.1</b> Remove Variable Names from a Data Frame Object</a></li>
<li class="chapter" data-level="14.2" data-path="addnames.html"><a href="addnames.html#add-variable-names-to-a-data-frame-object"><i class="fa fa-check"></i><b>14.2</b> Add Variable Names to a Data Frame Object</a></li>
<li class="chapter" data-level="14.3" data-path="addnames.html"><a href="addnames.html#summary-10"><i class="fa fa-check"></i><b>14.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="write.html"><a href="write.html"><i class="fa fa-check"></i><b>15</b> Writing Data from R</a>
<ul>
<li class="chapter" data-level="15.1" data-path="write.html"><a href="write.html#write-data-frame-to-working-directory"><i class="fa fa-check"></i><b>15.1</b> Write Data Frame to Working Directory</a></li>
<li class="chapter" data-level="15.2" data-path="write.html"><a href="write.html#write-table-to-working-directory"><i class="fa fa-check"></i><b>15.2</b> Write Table to Working Directory</a></li>
<li class="chapter" data-level="15.3" data-path="write.html"><a href="write.html#summary-11"><i class="fa fa-check"></i><b>15.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="arrange.html"><a href="arrange.html"><i class="fa fa-check"></i><b>16</b> Arranging (Sorting) Data</a>
<ul>
<li class="chapter" data-level="16.1" data-path="arrange.html"><a href="arrange.html#arrangebyvalues"><i class="fa fa-check"></i><b>16.1</b> Arrange (Sort) Data</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="arrange.html"><a href="arrange.html#opt1_arrange_withpipe"><i class="fa fa-check"></i><b>16.1.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="16.1.2" data-path="arrange.html"><a href="arrange.html#opt1_arrange_withoutpipe"><i class="fa fa-check"></i><b>16.1.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="arrange.html"><a href="arrange.html#summary-12"><i class="fa fa-check"></i><b>16.2</b> Summary</a></li>
<li class="chapter" data-level="16.3" data-path="arrange.html"><a href="arrange.html#arrange_supplement"><i class="fa fa-check"></i><b>16.3</b> Chapter Supplement</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="arrange.html"><a href="arrange.html#arrange_orderfunction"><i class="fa fa-check"></i><b>16.3.1</b> <code>order</code> Function from Base R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="join.html"><a href="join.html"><i class="fa fa-check"></i><b>17</b> Joining (Merging) Data</a>
<ul>
<li class="chapter" data-level="17.1" data-path="join.html"><a href="join.html#horizontaljoin"><i class="fa fa-check"></i><b>17.1</b> Horizontal Join (Merge)</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="join.html"><a href="join.html#opt2_join_withpipe"><i class="fa fa-check"></i><b>17.1.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="17.1.2" data-path="join.html"><a href="join.html#opt2_join_withoutpipe"><i class="fa fa-check"></i><b>17.1.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="join.html"><a href="join.html#verticaljoin"><i class="fa fa-check"></i><b>17.2</b> Vertical Join (Merge)</a></li>
<li class="chapter" data-level="17.3" data-path="join.html"><a href="join.html#summary-13"><i class="fa fa-check"></i><b>17.3</b> Summary</a></li>
<li class="chapter" data-level="17.4" data-path="join.html"><a href="join.html#join_supplement"><i class="fa fa-check"></i><b>17.4</b> Chapter Supplement</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="join.html"><a href="join.html#join_mergefunction"><i class="fa fa-check"></i><b>17.4.1</b> <code>merge</code> Function from Base R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="filter.html"><a href="filter.html"><i class="fa fa-check"></i><b>18</b> Filtering Data</a>
<ul>
<li class="chapter" data-level="18.1" data-path="filter.html"><a href="filter.html#filter_cases"><i class="fa fa-check"></i><b>18.1</b> Filter Cases from Data Frame</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="filter.html"><a href="filter.html#with-pipes"><i class="fa fa-check"></i><b>18.1.1</b> <em>With</em> Pipes</a></li>
<li class="chapter" data-level="18.1.2" data-path="filter.html"><a href="filter.html#without-pipes"><i class="fa fa-check"></i><b>18.1.2</b> <em>Without</em> Pipes</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="filter.html"><a href="filter.html#remove-single-variable-from-data-frame"><i class="fa fa-check"></i><b>18.2</b> Remove Single Variable from Data Frame</a></li>
<li class="chapter" data-level="18.3" data-path="filter.html"><a href="filter.html#select_multiplevariables"><i class="fa fa-check"></i><b>18.3</b> Select Multiple Variables from Data Frame</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="filter.html"><a href="filter.html#with-pipe"><i class="fa fa-check"></i><b>18.3.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="18.3.2" data-path="filter.html"><a href="filter.html#without-pipe"><i class="fa fa-check"></i><b>18.3.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="filter.html"><a href="filter.html#remove_multiplevariables"><i class="fa fa-check"></i><b>18.4</b> Remove Multiple Variables from Data Frame</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="filter.html"><a href="filter.html#with-pipe-1"><i class="fa fa-check"></i><b>18.4.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="18.4.2" data-path="filter.html"><a href="filter.html#without-pipe-1"><i class="fa fa-check"></i><b>18.4.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="filter.html"><a href="filter.html#summary-14"><i class="fa fa-check"></i><b>18.5</b> Summary</a></li>
<li class="chapter" data-level="18.6" data-path="filter.html"><a href="filter.html#filter_supplement"><i class="fa fa-check"></i><b>18.6</b> Chapter Supplement</a>
<ul>
<li class="chapter" data-level="18.6.1" data-path="filter.html"><a href="filter.html#filter_subset_supplement"><i class="fa fa-check"></i><b>18.6.1</b> <code>subset</code> Function from Base R</a></li>
<li class="chapter" data-level="18.6.2" data-path="filter.html"><a href="filter.html#str_detect_supp"><i class="fa fa-check"></i><b>18.6.2</b> Filter by Pattern Contained within String</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="clean.html"><a href="clean.html"><i class="fa fa-check"></i><b>19</b> Cleaning Data</a>
<ul>
<li class="chapter" data-level="19.1" data-path="clean.html"><a href="clean.html#review-data"><i class="fa fa-check"></i><b>19.1</b> Review Data</a></li>
<li class="chapter" data-level="19.2" data-path="clean.html"><a href="clean.html#clean-data"><i class="fa fa-check"></i><b>19.2</b> Clean Data</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="clean.html"><a href="clean.html#replace-a-specific-value-for-a-specific-case"><i class="fa fa-check"></i><b>19.2.1</b> Replace a Specific Value for a Specific Case</a></li>
<li class="chapter" data-level="19.2.2" data-path="clean.html"><a href="clean.html#replace-a-specific-value-for-all-cases-with-a-particular-value"><i class="fa fa-check"></i><b>19.2.2</b> Replace a Specific Value for All Cases with a Particular Value</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="clean.html"><a href="clean.html#rename-variables"><i class="fa fa-check"></i><b>19.3</b> Rename Variables</a></li>
<li class="chapter" data-level="19.4" data-path="clean.html"><a href="clean.html#other-approaches-to-cleaning-data"><i class="fa fa-check"></i><b>19.4</b> Other Approaches to Cleaning Data</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="clean.html"><a href="clean.html#changing-the-case-of-variable-names"><i class="fa fa-check"></i><b>19.4.1</b> Changing the Case of Variable Names</a></li>
<li class="chapter" data-level="19.4.2" data-path="clean.html"><a href="clean.html#changing-the-case-of-character-variable-values"><i class="fa fa-check"></i><b>19.4.2</b> Changing the Case of Character Variable Values</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="clean.html"><a href="clean.html#summary-15"><i class="fa fa-check"></i><b>19.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="aggregatesegment.html"><a href="aggregatesegment.html"><i class="fa fa-check"></i><b>20</b> Aggregating &amp; Segmenting Data</a>
<ul>
<li class="chapter" data-level="20.1" data-path="aggregatesegment.html"><a href="aggregatesegment.html#counts_bygroup"><i class="fa fa-check"></i><b>20.1</b> Counts By Group</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="aggregatesegment.html"><a href="aggregatesegment.html#counts_bygroup_pipes"><i class="fa fa-check"></i><b>20.1.1</b> <em>With</em> Pipes</a></li>
<li class="chapter" data-level="20.1.2" data-path="aggregatesegment.html"><a href="aggregatesegment.html#counts_bygroup_nopipes"><i class="fa fa-check"></i><b>20.1.2</b> <em>Without</em> Pipes</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="aggregatesegment.html"><a href="aggregatesegment.html#centraldispersion_bygroup"><i class="fa fa-check"></i><b>20.2</b> Measures of Central Tendency and Dispersion By Group</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="aggregatesegment.html"><a href="aggregatesegment.html#centraldispersion_bygroup_pipes"><i class="fa fa-check"></i><b>20.2.1</b> <em>With</em> Pipes</a></li>
<li class="chapter" data-level="20.2.2" data-path="aggregatesegment.html"><a href="aggregatesegment.html#centraldispersion_bygroup_nopipes"><i class="fa fa-check"></i><b>20.2.2</b> <em>Without</em> Pipes</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="aggregatesegment.html"><a href="aggregatesegment.html#addaggregatedvariable"><i class="fa fa-check"></i><b>20.3</b> Add Variable to Data Frame Containing Aggregated Values</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="aggregatesegment.html"><a href="aggregatesegment.html#addaggregatedvariable_pipes"><i class="fa fa-check"></i><b>20.3.1</b> <em>With</em> Pipes</a></li>
<li class="chapter" data-level="20.3.2" data-path="aggregatesegment.html"><a href="aggregatesegment.html#addaggregatedvariable_nopipes"><i class="fa fa-check"></i><b>20.3.2</b> <em>Without</em> Pipes</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="aggregatesegment.html"><a href="aggregatesegment.html#visualize_bygroup"><i class="fa fa-check"></i><b>20.4</b> Visualize Data By Group</a></li>
<li class="chapter" data-level="20.5" data-path="aggregatesegment.html"><a href="aggregatesegment.html#summary-16"><i class="fa fa-check"></i><b>20.5</b> Summary</a></li>
<li class="chapter" data-level="20.6" data-path="aggregatesegment.html"><a href="aggregatesegment.html#aggregatesegment_supplement"><i class="fa fa-check"></i><b>20.6</b> Chapter Supplement</a>
<ul>
<li class="chapter" data-level="20.6.1" data-path="aggregatesegment.html"><a href="aggregatesegment.html#aggregatesegment_subset_supplement"><i class="fa fa-check"></i><b>20.6.1</b> <code>describeBy</code> Function from <code>psych</code> Package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="manipulate.html"><a href="manipulate.html"><i class="fa fa-check"></i><b>21</b> Manipulating &amp; Restructuring Data</a>
<ul>
<li class="chapter" data-level="21.1" data-path="manipulate.html"><a href="manipulate.html#widetolong"><i class="fa fa-check"></i><b>21.1</b> Wide-to-Long Format Data Manipulation</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="manipulate.html"><a href="manipulate.html#widetolong_withpipe"><i class="fa fa-check"></i><b>21.1.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="21.1.2" data-path="manipulate.html"><a href="manipulate.html#widetolong_withoutpipe"><i class="fa fa-check"></i><b>21.1.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="manipulate.html"><a href="manipulate.html#longtowide"><i class="fa fa-check"></i><b>21.2</b> Long-to-Wide Format Data Manipulation</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="manipulate.html"><a href="manipulate.html#longtowide_withpipe"><i class="fa fa-check"></i><b>21.2.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="21.2.2" data-path="manipulate.html"><a href="manipulate.html#longtowide_withoutpipe"><i class="fa fa-check"></i><b>21.2.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="manipulate.html"><a href="manipulate.html#summary-17"><i class="fa fa-check"></i><b>21.3</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>IV Employee Demographics</b></span></li>
<li class="chapter" data-level="22" data-path="employeedemographics.html"><a href="employeedemographics.html"><i class="fa fa-check"></i><b>22</b> Introduction to Employee Demographics</a></li>
<li class="chapter" data-level="23" data-path="descriptives.html"><a href="descriptives.html"><i class="fa fa-check"></i><b>23</b> Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="23.1" data-path="descriptives.html"><a href="descriptives.html#determine_measurementscale"><i class="fa fa-check"></i><b>23.1</b> Determine the Measurement Scale</a></li>
<li class="chapter" data-level="23.2" data-path="descriptives.html"><a href="descriptives.html#describe_nominal_ordinal"><i class="fa fa-check"></i><b>23.2</b> Describe Nominal &amp; Ordinal (Categorical) Variables</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="descriptives.html"><a href="descriptives.html#compute_counts"><i class="fa fa-check"></i><b>23.2.1</b> Compute Counts &amp; Frequencies</a></li>
<li class="chapter" data-level="23.2.2" data-path="descriptives.html"><a href="descriptives.html#datavisualizations_nominal_ordinal"><i class="fa fa-check"></i><b>23.2.2</b> Create Data Visualizations</a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="descriptives.html"><a href="descriptives.html#describe_interval_ratio"><i class="fa fa-check"></i><b>23.3</b> Describe Interval &amp; Ratio (Continuous) Variables</a>
<ul>
<li class="chapter" data-level="23.3.1" data-path="descriptives.html"><a href="descriptives.html#datavisualizations_interval_ratio"><i class="fa fa-check"></i><b>23.3.1</b> Create Data Visualizations</a></li>
<li class="chapter" data-level="23.3.2" data-path="descriptives.html"><a href="descriptives.html#compute_measures_centraltendency_dispersion"><i class="fa fa-check"></i><b>23.3.2</b> Compute Measures of Central Tendency &amp; Dispersion</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="descriptives.html"><a href="descriptives.html#summary-18"><i class="fa fa-check"></i><b>23.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="crosstabs.html"><a href="crosstabs.html"><i class="fa fa-check"></i><b>24</b> Cross-Tabulations</a>
<ul>
<li class="chapter" data-level="24.1" data-path="crosstabs.html"><a href="crosstabs.html#twoway_crosstabs"><i class="fa fa-check"></i><b>24.1</b> Two-Way Cross-Tabulation</a>
<ul>
<li class="chapter" data-level="24.1.1" data-path="crosstabs.html"><a href="crosstabs.html#twoway_crosstabs_table"><i class="fa fa-check"></i><b>24.1.1</b> Option 1: Using the <code>table</code> Function</a></li>
<li class="chapter" data-level="24.1.2" data-path="crosstabs.html"><a href="crosstabs.html#twoway_crosstabs_xtabs"><i class="fa fa-check"></i><b>24.1.2</b> Option 2: Using the <code>xtabs</code> Function</a></li>
<li class="chapter" data-level="24.1.3" data-path="crosstabs.html"><a href="crosstabs.html#twoway_crosstabs_CrossTable"><i class="fa fa-check"></i><b>24.1.3</b> Option 3: Using the <code>CrossTable</code> Function</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="crosstabs.html"><a href="crosstabs.html#threeway_crosstabs"><i class="fa fa-check"></i><b>24.2</b> Three-Way Cross-Tabulation</a>
<ul>
<li class="chapter" data-level="24.2.1" data-path="crosstabs.html"><a href="crosstabs.html#threeway_crosstabs_table"><i class="fa fa-check"></i><b>24.2.1</b> Option 1: Using the <code>table</code> Function</a></li>
<li class="chapter" data-level="24.2.2" data-path="crosstabs.html"><a href="crosstabs.html#threeway_crosstabs_xtabs"><i class="fa fa-check"></i><b>24.2.2</b> Option 2: Using the <code>xtabs</code> Function</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="crosstabs.html"><a href="crosstabs.html#summary-19"><i class="fa fa-check"></i><b>24.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="pivottables.html"><a href="pivottables.html"><i class="fa fa-check"></i><b>25</b> Pivot Tables</a>
<ul>
<li class="chapter" data-level="25.1" data-path="pivottables.html"><a href="pivottables.html#create_pivottables"><i class="fa fa-check"></i><b>25.1</b> Create a Pivot Table</a></li>
<li class="chapter" data-level="25.2" data-path="pivottables.html"><a href="pivottables.html#summary-20"><i class="fa fa-check"></i><b>25.2</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>V Employee Surveys</b></span></li>
<li class="chapter" data-level="26" data-path="employeesurveys.html"><a href="employeesurveys.html"><i class="fa fa-check"></i><b>26</b> Introduction to Employee Surveys</a></li>
<li class="part"><span><b>VI Employee Selection</b></span></li>
<li class="chapter" data-level="27" data-path="selection.html"><a href="selection.html"><i class="fa fa-check"></i><b>27</b> Introduction to Employee Selection</a></li>
<li class="chapter" data-level="28" data-path="disparateimpact.html"><a href="disparateimpact.html"><i class="fa fa-check"></i><b>28</b> Disparate Impact</a>
<ul>
<li class="chapter" data-level="28.1" data-path="disparateimpact.html"><a href="disparateimpact.html#fourfifthsrule"><i class="fa fa-check"></i><b>28.1</b> 4/5ths Rule</a></li>
<li class="chapter" data-level="28.2" data-path="disparateimpact.html"><a href="disparateimpact.html#chisquaretest_disparateimpact"><i class="fa fa-check"></i><b>28.2</b> Chi-Squared (<span class="math inline">\(\chi^2\)</span>) Test of Independence</a></li>
<li class="chapter" data-level="28.3" data-path="disparateimpact.html"><a href="disparateimpact.html#fisherexacttest"><i class="fa fa-check"></i><b>28.3</b> Fisher Exact Test</a></li>
<li class="chapter" data-level="28.4" data-path="disparateimpact.html"><a href="disparateimpact.html#zdifference_test_disparateimpact"><i class="fa fa-check"></i><b>28.4</b> <span class="math inline">\(Z_{D}\)</span> test</a></li>
<li class="chapter" data-level="28.5" data-path="disparateimpact.html"><a href="disparateimpact.html#z_impactratiotest"><i class="fa fa-check"></i><b>28.5</b> <span class="math inline">\(Z_{IR}\)</span> Test</a></li>
<li class="chapter" data-level="28.6" data-path="disparateimpact.html"><a href="disparateimpact.html#summary_disparatetreatment"><i class="fa fa-check"></i><b>28.6</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>VII Odds &amp; Ends</b></span></li>
<li class="chapter" data-level="" data-path="create-portfolio.html"><a href="create-portfolio.html"><i class="fa fa-check"></i>Creating a Data Analytics Portfolio</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for HR:<br />
<em>An Introduction to Human Resource Analytics Using R</em><br />
BOOK UNDER CONSTRUCTION</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="clean" class="section level1" number="19">
<h1><span class="header-section-number">Chapter 19</span> Cleaning Data</h1>
<p><strong>Cleaning data</strong> is an essential part of the <a href="datamanagement.html#datamanagement">Data Management</a> phase of the <a href="overviewhraplc.html#overviewhraplc">HR Analytics Project Life Cycle</a>. When we clean data, broadly speaking, we identify, correct, or remove problematic observations, scores, or variables. More specifically, data cleaning often entails (but is not limited to):</p>
<ol style="list-style-type: decimal">
<li>Identifying and correcting data-entry errors and inconsistent coding;</li>
<li>Evaluating missing data and determining how to handle them;</li>
<li>Flagging and correcting out-of-bounds scores for variables;</li>
<li>Addressing open-ended and/or “other” responses from employee surveys;</li>
<li>Flagging and potentially removing untrustworthy variables.</li>
</ol>
<p>With categorical (i.e., nominal, ordinal) variables containing text values, sometimes different spellings or formatting (e.g., uppercase, lowercase) are used (mistakenly) to represent the same category. Such issues broadly fall under <em>data-entry errors and inconsistent coding</em> reason for data cleaning. While the human eye can usually discern what the intended category is, many software programs and programming languages will be unable to automatically or correctly determine which text values represent which category. For example, in the table below, the facility variable is categorical and contains text values meant to represent different facilities at this hypothetical organization. Human eyes can quickly pick out that there are two facility locations represented in this table: Beaverton and Portland. With that said, for the R programming language, without direction, the different spellings and different cases (i.e., lowercase vs. uppercase “B”) for the Beaverton facility (i.e., Beaverton, beaverton, beverton) will be treated as unique categories (i.e., facilities in this context). Often this is the result of data-entry errors and/or the lack of data validation. To clean the Facility variable, we could convert all instances of “beaverton” and “beverton” to “Beaverton”.</p>
<div class="figure">
<img src="cleaning_casesensitivity.png" alt="" />
<p class="caption"><em>Data-entry errors and inconsistent coding:</em> In this table, different spelling and letter cases (e.g., uppercase vs. lowercase) appear for what is supposed to be the same facility location: Beaverton.</p>
</div>
<p><em>Missing data</em> (i.e., missing scores) for certain observations (i.e., cases) should also be addressed during data cleaning. For the Facility variable in the table shown below, note how facility location data are missing for the employees with IDs EP9746 and EP9952. In this example, we could likely find other employee records or contact the employees (or their supervisors) in question to verify the facility location where these to employees work. Provided we find the facility locations for these two employees, we could then replace the missing values with the correct facility location information. In other instances, it may prove to be more difficult to replace missing data, such as when organization administers an anonymous employee survey and certain respondents have missing responses to certain questions or items. In such instances, we may decide to tolerate a small percentage of missing data (e.g., &lt; 10%) when we go to analyze the data; however, if the percentage of missing data is sufficiently large and if we plan to analyze the data to make inferences about underlying population from which the sample data were attained, we may begin to think more seriously about whether the data are missing completely at random, missing at random, or missing at not at random. A proper discussion of missing data theory is beyond the scope of this chapter.</p>
<div class="figure">
<img src="cleaning_missingdata.png" alt="" />
<p class="caption"><em>Missing data:</em> In this table, data are missing for the employees with IDs EP9746 and EP9952.</p>
</div>
<p>In some instances, we might encounter <em>out-of-bounds scores</em>, which refer to values that simply are too high or low, or that are just too unrealistic or implausible to be correct. In the table below, the Base Salary variable includes salaries that are all below 75,000 – with the notable exception of salary associated with employee ID EP0214. Let’s imagine that this table is only supposed to include data for a specific job category; knowing that, a base salary of 789,120,000 seems excessively high in a global sense and extraordinarily high in a local sense. It could be that someone entered the base salary data incorrectly for this employee, perhaps by adding four extra zeroes at the end of the actual base salary amount. In this case, we would try to find verify the correct base salary for this individual and then make the correction to the data.</p>
<div class="figure">
<img src="cleaning_outofbounds.png" alt="" />
<p class="caption"><em>Out-of-bounds scores:</em> In this table, the base salary for the individual with employee ID EP0214 seems extraordinarily high and is almost certainly a data entry error.</p>
</div>
<p>If the example above seems a bit far-fetched to you, I’ll provide you with a personal example of just a single zero being mistakenly added to the end of a paycheck. After my fourth year of graduate school, I decided to teach a summer course as an adjunct faculty member, which happened to be an introductory human resource management course. During the week in which I was covering employee compensation, I received a paycheck with one extra zero added to my pay for that month, which of course increased my monthly pay 10-fold. As much as I would have enjoyed holding onto that extra money, I quickly reached out to the a representative from the university’s HR department, and the person addressed the error very quickly. At the end of the conversation, the HR representative said jokingly, “The irony is not lost on us that we made this payroll error for someone who is teaching a unit on employee compensation.”</p>
<p>When an <em>open-ended response or “other” response</em> field is provided (as opposed to a close-ended response field with predetermined response options), the individual who enters the data can type in whatever they would like (in most instances) provided that they limit their response to the allotted space. This challenge crops up frequently in employee surveys, such as when employees may select an “other” response for one survey question that then branches them to a follow-up question that is open-ended. In the table below, survey respondents’ close-ended response options for the Number of Direct Reports variable include an “Other” option; respondents who responded with “Other” had an opportunity to indicate their number of direct reports using an open-ended survey question associated with the Number of Direct Reports (Other) variable. When cleaning such data, we often must determine what to do with the affect variables on a case-by-case basis. For example, the individual who responded to the survey associated with a unique identifier of 2 responded with “Not a supervisor”. If this survey was intended to acquire data from supervisors only, then we might decide to remove the row of data associated with that individual’s response, as they likely do not fit our definition of the target population.</p>
<div class="figure">
<img src="cleaning_other.png" alt="" />
<p class="caption"><em>Open-ended and/or “other” responses:</em> In this table, survey respondents’ close-ended response options for the Number of Direct Reports variable include an “Other” option; for respondents who responded with “Other”, they then had an opportunity to indicate their number of direct reports using an open-ended survey question associated with the Number of Direct Reports (Other) variable.</p>
</div>
<p>Finally, sometimes scores for a variable (or even missing scores for a variable) seem “off,” incorrect, or implausible – or in other words, <em>untrustworthy</em>. For example, in the table below, a variable called Training Post Test is meant to include the scores on a post-training assessment; yet, we can see that the individual with employee ID EP1475 has a score of 99 even though the adjacent variable indicates that the individual did not complete the training. Now, it’s entirely possible that this person (and others) were part of a control group (i.e., comparison group) intended to be used as part of a training evaluation design, but that then begs the question why only one individual in this table has a training post-test score. At first glance, data associated with the Training Post Test variable seem untrustworthy, and they very well may be in reality. As a next step, we would want to do some sleuthing to figure out what errors or issues may be at work in these data, and whether we should remove the potentially untrustworthy variable in question.</p>
<div class="figure">
<img src="cleaning_untrustworthy.png" alt="" />
<p class="caption"><em>Untrustworthy variables:</em> In this table, data are missing for all but employee ID EP1475 on the Training Post Test variable, and furthermore, the Completed Training variable indicates that none of the employees who appear in the table received training.</p>
</div>
<div id="video-tutorial-12" class="section level4" number="19.0.0.1">
<h4><span class="header-section-number">19.0.0.1</span> Video Tutorial</h4>
<p>As usual, you have the choice to follow along with the written tutorial in this chapter or to watch the video tutorial below.</p>
<iframe src="https://youtube.com/embed/mGQvJ3FuNa8?rel=0" width="672" height="400px">
</iframe>
<p>Link to Video Tutorial: <a href="https://youtu.be/mGQvJ3FuNa8" class="uri">https://youtu.be/mGQvJ3FuNa8</a></p>
</div>
<div id="functions-packages-introduced-7" class="section level4" number="19.0.0.2">
<h4><span class="header-section-number">19.0.0.2</span> Functions &amp; Packages Introduced</h4>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Package</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>View</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="even">
<td><code>count</code></td>
<td><code>dplyr</code></td>
</tr>
<tr class="odd">
<td><code>str</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="even">
<td><code>mutate</code></td>
<td><code>dplyr</code></td>
</tr>
<tr class="odd">
<td><code>replace</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="even">
<td><code>match</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="odd">
<td><code>ifelse</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="even">
<td><code>is.na</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="odd">
<td><code>toupper</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="even">
<td><code>tolower</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="odd">
<td><code>names</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="even">
<td><code>function</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="odd">
<td><code>clean_names</code></td>
<td><code>janitor</code></td>
</tr>
</tbody>
</table>
</div>
<div id="initsteps_clean" class="section level4" number="19.0.0.3">
<h4><span class="header-section-number">19.0.0.3</span> Initial Steps</h4>
<p>If you haven’t already, save the file called <strong>“DataCleaningExample.csv”</strong> into a folder that you will subsequently set as your working directory. Your working directory will likely be different than the one shown below (i.e., <code>"H:/RWorkshop"</code>). As a reminder, you can access all of the data files referenced in this book by downloading them as a compressed (zipped) folder from the my GitHub site: <a href="https://github.com/davidcaughlin/R-Tutorial-Data-Files" class="uri">https://github.com/davidcaughlin/R-Tutorial-Data-Files</a>; once you’ve followed the link to GitHub, just click “Code” (or “Download”) followed by “Download ZIP”, which will download all of the data files referenced in this book. For the sake of parsimony, I recommend downloading all of the data files into the same folder on your computer, which will allow you to set that same folder as your working directory for each of the chapters in this book.</p>
<p>Next, using the <code>setwd</code> function, set your working directory to the folder in which you saved the data file for this chapter. Alternatively, you can manually set your working directory folder in your drop-down menus by going to <em>Session &gt; Set Working Directory &gt; Choose Directory…</em>. Be sure to create a new R script file (.R) or update an existing R script file so that you can save your script and annotations. If you need refreshers on how to set your working directory and how to create and save an R script, please refer to <a href="setwd.html#setwd">Setting a Working Directory</a> and <a href="gettingstarted.html#createRscript">Creating &amp; Saving an R Script</a>.</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="clean.html#cb486-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set your working directory</span></span>
<span id="cb486-2"><a href="clean.html#cb486-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;H:/RWorkshop&quot;</span>)</span></code></pre></div>
<p>Next, read in the .csv data file called <strong>“DataCleaningExample.csv”</strong> using your choice of read function. In this example, I use the <code>read_csv</code> function from the <code>readr</code> package <span class="citation">(<a href="references.html#ref-R-readr" role="doc-biblioref">Wickham and Hester 2020</a>)</span>. If you choose to use the <code>read_csv</code> function, be sure that you have installed and accessed the <code>readr</code> package using the <code>install.packages</code> and <code>library</code> functions. <em>Note: You don’t need to install a package every time you wish to access it; in general, I would recommend updating a package installation once ever 1-3 months.</em> For refreshers on installing packages and reading data into R, please refer to <a href="gentleintro.html#packages">Packages</a> and <a href="read.html#read">Reading Data into R</a>.</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="clean.html#cb487-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install readr package if you haven&#39;t already</span></span>
<span id="cb487-2"><a href="clean.html#cb487-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [Note: You don&#39;t need to install a package every </span></span>
<span id="cb487-3"><a href="clean.html#cb487-3" aria-hidden="true" tabindex="-1"></a><span class="co"># time you wish to access it]</span></span>
<span id="cb487-4"><a href="clean.html#cb487-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;readr&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="clean.html#cb488-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access readr package</span></span>
<span id="cb488-2"><a href="clean.html#cb488-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb488-3"><a href="clean.html#cb488-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb488-4"><a href="clean.html#cb488-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read data and name data frame (tibble) object</span></span>
<span id="cb488-5"><a href="clean.html#cb488-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;DataCleaningExample.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## -- Column specification -------------------------------------------------------------------------
## cols(
##   EmpID = col_character(),
##   Facility = col_character(),
##   JobLevel = col_double(),
##   StartDate = col_date(format = &quot;&quot;),
##   Org_Tenure_Yrs = col_double(),
##   OnboardingCompleted = col_character()
## )</code></pre>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="clean.html#cb490-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the names of the variables in the data frame (tibble) objects</span></span>
<span id="cb490-2"><a href="clean.html#cb490-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;EmpID&quot;               &quot;Facility&quot;            &quot;JobLevel&quot;            &quot;StartDate&quot;          
## [5] &quot;Org_Tenure_Yrs&quot;      &quot;OnboardingCompleted&quot;</code></pre>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="clean.html#cb492-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame (tibble) objects</span></span>
<span id="cb492-2"><a href="clean.html#cb492-2" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 beverton         1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
<p>Note in the data frame that the <code>EmpID</code> field/variable is a unique identifier variable, which means that each case/observation has a unique value on this field/variable. This will become useful later on in this tutorial when we replace values on variables for specific cases.</p>
</div>
<div id="review-data" class="section level2" number="19.1">
<h2><span class="header-section-number">19.1</span> Review Data</h2>
<p>There are different tools and techniques we can use to review the cleanliness or integrity of the available data. Often, it’s a good idea to give the data a once over with what I refer to as the “ocular test,” which simply means to scan the raw data using your eyes. The ocular test can give you an idea of the types of data cleaning issues you’ll need to address. The <code>View</code> function from base R is a great tool for this, as it allows you to look at the data frame object in a viewer tab, and using the arrows at the top of each column, you can sort each field (i.e., variable) manually.</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="clean.html#cb494-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View data frame object using View function</span></span>
<span id="cb494-2"><a href="clean.html#cb494-2" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(df)</span></code></pre></div>
<div class="figure">
<img src="DataCleaning.png" alt="" />
<p class="caption">Reviewing data using the <code>View</code> function from base R.</p>
</div>
<p>In addition, applying the <code>count</code> function from the <code>dplyr</code> package <span class="citation">(<a href="references.html#ref-R-dplyr" role="doc-biblioref">Wickham et al. 2021</a>)</span> can provide us with an understanding of the values (or lack thereof) associated with each variable in your data frame object. The <code>count</code> function groups and tallies the number of observations (i.e., frequencies) by value/level within a variable. Using this function we can (hopefully) identify any values that might be considered “out of bounds” or erroneous. Because the <code>count</code> function comes from the <code>dplyr</code> package, if you haven’t already, install and access the <code>dplyr</code> package using the <code>install.packages</code> and <code>library</code> functions, respectively.</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="clean.html#cb495-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install dplyr package if you haven&#39;t already</span></span>
<span id="cb495-2"><a href="clean.html#cb495-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="clean.html#cb496-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access dplyr package</span></span>
<span id="cb496-2"><a href="clean.html#cb496-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<p>We can achieve the same output with and without the use of the pipe (<code>%&gt;%</code>) operator because the <code>dplyr</code> package is built upon the <code>magrittr</code> <span class="citation">(<a href="references.html#ref-R-magrittr" role="doc-biblioref">Bache and Wickham 2020</a>)</span> package. For more information on the pipe operator, check out this link: <a href="https://r4ds.had.co.nz/pipes.html" class="uri">https://r4ds.had.co.nz/pipes.html</a>. If you don’t want to use the pipe operator with the <code>dplyr</code> functions, just skip down below to see how to specify the function without using pipes.</p>
<p>Using the pipe (<code>%&gt;%</code>) operator, first, type the name of the data frame object to which a variable belongs (e.g., <code>df</code>). Second, type the <code>%&gt;%</code> operator. Third, type the name of the <code>count</code> function, and within the parentheses, enter the exact name of the variable (e.g., <code>Facility</code>) as the sole argument.</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb497-1"><a href="clean.html#cb497-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply count function to Facility variable using pipe</span></span>
<span id="cb497-2"><a href="clean.html#cb497-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">count</span>(Facility)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   Facility      n
##   &lt;chr&gt;     &lt;int&gt;
## 1 beaverton     1
## 2 Beaverton     4
## 3 beverton      1
## 4 Portland      3
## 5 &lt;NA&gt;          1</code></pre>
<p>Note that the output yields a table object (or more specifically a “tibble”, which is used in the <code>tidyverse</code> collection of functions). There are two columns: (a) the variable name, below which appears all values/levels of that variable, and (b) the <code>n</code> column, which displays the number of cases/observations associated with each value/level of the variable in question. As you can see, there appear to be some errors. Perhaps the database used to gather these data lacked data validation rules for certain variables, which allowed users to enter different spellings or formatting of the same value/level of the variables. For example, the Beaverton facility is spelled/formatted in three ways: <em>Beaverton</em>, <em>beaverton</em>, and <em>beverton</em>. Because R is case sensitive, <em>Beaverton</em> and <em>beaverton</em> are treated as to distinct levels/values of the <code>Facility</code> variable. Further, <em>beverton</em> is a misspelling of <em>Beaverton</em> and lacks the capital <em>B</em>. Finally, note that there is one <code>NA</code> value, which indicates that someone forgot to enter the name of the facility where that employee works. Clearly, we need to correct these errors and clean up the data residing within this variable; later in the tutorial, you will learn how to correct/replace these values in the R environment.</p>
<p>To perform the operation above <em>without</em> the pipe (<code>%&gt;%</code>) operator,type the name of the <code>count</code> function, and within the parentheses, type the name of the data frame object (<code>df</code>) as the first argument, followed by a comma. As the second argument, type the exact name of the variable (e.g., <code>Facility</code>).</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb499-1"><a href="clean.html#cb499-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply count function to Facility variable without using pipe</span></span>
<span id="cb499-2"><a href="clean.html#cb499-2" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(df, Facility)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   Facility      n
##   &lt;chr&gt;     &lt;int&gt;
## 1 beaverton     1
## 2 Beaverton     4
## 3 beverton      1
## 4 Portland      3
## 5 &lt;NA&gt;          1</code></pre>
<p>As you can see, the output is the same with and without the use of the pipe (<code>%&gt;%</code>) operator.</p>
<p>Now let’s apply the <code>count</code> function to the <code>JobLevel</code> variable. To save space, I only show how to do this using the pipe operator (<code>%&gt;%</code>). All we need to do is replace <code>Facility</code> with <code>JobLevel</code> in the syntax/code we wrote previously.</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb501-1"><a href="clean.html#cb501-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply count function to JobLevel variable using pipe</span></span>
<span id="cb501-2"><a href="clean.html#cb501-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">count</span>(JobLevel)</span></code></pre></div>
<pre><code>## # A tibble: 7 x 2
##   JobLevel     n
##      &lt;dbl&gt; &lt;int&gt;
## 1    -9999     1
## 2        1     4
## 3        2     1
## 4        3     1
## 5        4     1
## 6        5     1
## 7       11     1</code></pre>
<p>For the sake of this example, let’s assume that the company has only five job levels (1 = lowest, 5 = highest). In the output, it is apparent that there are two out-of-bounds values: <em>-9999</em> and <em>11</em>. Rather than leave cell blank when entering data, some people prefer to use extreme negative values, such as <em>-9999</em>, to flag missing data, and let’s assume that is the case in this example. A potential issue with this approach to coding missing data is that R assumes <em>-9999</em> is a real value, and in R, <code>NA</code> is often used to indicate missing data to avoid this issue. Regarding the <em>11</em> value, it is likely that someone made an error when entering the data value in the database by typing <em>1</em> twice by mistake; let’s assume that we verified that this was the case and that <em>11</em> should be replaced with <em>1</em>.</p>
<p>Lastly, let’s apply the <code>count</code> function to the <code>OnboardingCompleted</code> variable.</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb503-1"><a href="clean.html#cb503-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply count function to OnboardingCompleted variable using pipe</span></span>
<span id="cb503-2"><a href="clean.html#cb503-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">count</span>(OnboardingCompleted)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   OnboardingCompleted     n
##   &lt;chr&gt;               &lt;int&gt;
## 1 No                     10</code></pre>
<p>In this example, employees either completed (<em>Yes</em>) or did not complete (<em>No</em>) the onboarding for new employees. As you can see in the output, there are no missing data (i.e., all 10 cases have a value); however, note that every single case/observation (i.e., employee) has the value <em>No</em> when in actuality (let’s assume) every single case/observation should have the value <em>Yes</em> because we learned that every single employee in this data frame completed the onboarding program.</p>
<p>In the next section, you will learn how to clean the “dirty” data we identified within the <code>Facility</code>, <code>JobLevel</code>, and <code>OnboardingCompleted</code> variables.</p>
</div>
<div id="clean-data" class="section level2" number="19.2">
<h2><span class="header-section-number">19.2</span> Clean Data</h2>
<p>As is often the case in R (and in life), there are multiple approaches to cleaning data. I demonstrate two approaches in this tutorial: (a) replacing a value for specific cases/observations with the correct value and (b) replacing a specific value for all cases that have the same value on that variable. Both approaches can come in handy given the particular data-cleaning circumstance you are facing.</p>
<div id="replace-a-specific-value-for-a-specific-case" class="section level3" number="19.2.1">
<h3><span class="header-section-number">19.2.1</span> Replace a Specific Value for a Specific Case</h3>
<p>To begin, let’s replace a specific value for a specific case/observation. To do so, we’ll apply three functions: <code>mutate</code> from the <code>dplyr</code> package and <code>replace</code> and <code>match</code> from base R. If you haven’t already, be sure that you have installed and accessed the <code>dplyr</code> package using the <code>install.packages</code> and <code>library</code> functions, respectively. Using the pipe (<code>%&gt;%</code>) operator, we can replace a specific value for a specific case by:</p>
<ol style="list-style-type: decimal">
<li>Type the name of a new data frame object, as it is generally a good practice to preserve the original data frame you read in earlier; here, I arbitrarily name the new data frame object <code>newdf1</code>.</li>
<li>Type the <code>&lt;-</code> operator to the right of the new data frame object so that the results of the subsequent operations can be assigned to the new object.</li>
<li>Type the name of the original data frame object (<code>df</code>), followed by the pipe (<code>%&gt;%</code>) operator.</li>
<li>Type the name of the <code>mutate</code> function. Within the <code>mutate</code> function parentheses, provide the name of an existing or new variable; in this case, we will overwrite the existing <code>Facility</code> variable by typing the same variable name. Next, enter the <code>=</code> operator to the right of the <code>mutate</code> function to specify how values for the <code>Facility</code> variable will be determined.</li>
<li>Type the name of the <code>replace</code> function, which is a function that allows one to replace values in specific location within a vector or data frame. Within the <code>replace</code> function parentheses, as the first argument, type the name of the variable for which you wish to replace specific values (<code>Facility</code>). As the second argument, type the name of the <code>match</code> function, which is a function that allows us to find matched value(s) within a variable (i.e., vector); s the first argument within the <code>match</code> function, enter the value you wish to find a match for (<em>“EP1202”</em>), and as the second argument, enter the name of the variable (<code>EmpID</code>) to which that value belongs. Essentially, this <code>match</code> function and its two arguments will instruct R to identify the case in which <code>EmpID</code> (variable name) is equal to <em>“EP1202”</em>. Because the variable <code>EmpID</code> is of type <em>character</em> (<em>chr</em>), the value identified from that variable should be placed in quotation marks (<code>" "</code>); if the variable were of type <em>numeric</em>, you would not include the quotation marks (<code>" "</code>), and as shown below, the <code>str</code> (structure) function can be used to identify the variable type for the variables within a data frame object (e.g., <code>df</code>); as the final (third) argument within the <code>replace</code> function, enter the new value (e.g., <em>“Beaverton”</em>) that you would like to replace the existing value with for the particular case you identified.</li>
</ol>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb505-1"><a href="clean.html#cb505-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify variable type</span></span>
<span id="cb505-2"><a href="clean.html#cb505-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre><code>## spec_tbl_df[,6] [10 x 6] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ EmpID              : chr [1:10] &quot;EP1201&quot; &quot;EP1202&quot; &quot;EP1203&quot; &quot;EP1204&quot; ...
##  $ Facility           : chr [1:10] &quot;Beaverton&quot; &quot;beaverton&quot; &quot;Beaverton&quot; &quot;Portland&quot; ...
##  $ JobLevel           : num [1:10] 1 1 -9999 5 2 ...
##  $ StartDate          : Date[1:10], format: &quot;2010-05-05&quot; &quot;2008-01-31&quot; &quot;2017-02-05&quot; ...
##  $ Org_Tenure_Yrs     : num [1:10] 8.6 10.9 1.9 0.3 0.3 8.8 7.6 8.6 7.7 6.5
##  $ OnboardingCompleted: chr [1:10] &quot;No&quot; &quot;No&quot; &quot;No&quot; &quot;No&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   EmpID = col_character(),
##   ..   Facility = col_character(),
##   ..   JobLevel = col_double(),
##   ..   StartDate = col_date(format = &quot;&quot;),
##   ..   Org_Tenure_Yrs = col_double(),
##   ..   OnboardingCompleted = col_character()
##   .. )</code></pre>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="clean.html#cb507-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For EmpID equal to EP1202, replace &quot;beaverton&quot; with &quot;Beaverton&quot; using pipe</span></span>
<span id="cb507-2"><a href="clean.html#cb507-2" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb507-3"><a href="clean.html#cb507-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Facility =</span> <span class="fu">replace</span>(Facility, </span>
<span id="cb507-4"><a href="clean.html#cb507-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">match</span>(<span class="st">&quot;EP1202&quot;</span>, EmpID), </span>
<span id="cb507-5"><a href="clean.html#cb507-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;Beaverton&quot;</span>))</span>
<span id="cb507-6"><a href="clean.html#cb507-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb507-7"><a href="clean.html#cb507-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print new data frame object</span></span>
<span id="cb507-8"><a href="clean.html#cb507-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 beverton         1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
<p>In the new data frame object (<code>newdf1</code>), you should now see that <em>“beaverton”</em> has been replaced with <em>“Beaverton”</em> for the case in which <code>EmpID</code> is equal to <em>“EP1202”</em>. Assuming you save your script as an R script file (.R), you will have a paper trail that shows that you replaced an existing value with a new (correct) value.</p>
<p>To apply the <code>mutate</code> function <em>without</em> a pipe (<code>%&gt;%</code>) operator, we simply remove the pipe (<code>%&gt;%</code>) operator and enter the name of our original data frame object (<code>df</code>) as the first argument of the <code>mutate</code> function.</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb509-1"><a href="clean.html#cb509-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For EmpID equal to EP1202, replace &quot;beaverton&quot; with &quot;Beaverton&quot; without using pipe</span></span>
<span id="cb509-2"><a href="clean.html#cb509-2" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(df, </span>
<span id="cb509-3"><a href="clean.html#cb509-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">Facility =</span> <span class="fu">replace</span>(Facility,</span>
<span id="cb509-4"><a href="clean.html#cb509-4" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">match</span>(<span class="st">&quot;EP1202&quot;</span>,EmpID),</span>
<span id="cb509-5"><a href="clean.html#cb509-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">&quot;Beaverton&quot;</span>))</span>
<span id="cb509-6"><a href="clean.html#cb509-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb509-7"><a href="clean.html#cb509-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print new data frame object</span></span>
<span id="cb509-8"><a href="clean.html#cb509-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 beverton         1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
<p>Now let’s take the <code>newdf1</code> data frame object we just created and replace <em>“beverton”</em> with <em>“Beaverton”</em> for the case in which the <code>EmpID</code> variable value is equal to <em>“EP1207”</em>. All we need to do in this instance is to (a) swap out <code>df</code> with <code>newdf1</code> as the original data frame name and (b) swap out <em>“EP1202”</em> with <em>“EP1207”</em> from the previous piped code we wrote.</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="clean.html#cb511-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For EmpID equal to EP1207, replace &quot;beverton&quot; with &quot;Beaverton&quot; using pipe</span></span>
<span id="cb511-2"><a href="clean.html#cb511-2" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> newdf1 <span class="sc">%&gt;%</span> </span>
<span id="cb511-3"><a href="clean.html#cb511-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Facility =</span> <span class="fu">replace</span>(Facility, </span>
<span id="cb511-4"><a href="clean.html#cb511-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">match</span>(<span class="st">&quot;EP1207&quot;</span>, EmpID), </span>
<span id="cb511-5"><a href="clean.html#cb511-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;Beaverton&quot;</span>))</span>
<span id="cb511-6"><a href="clean.html#cb511-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb511-7"><a href="clean.html#cb511-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print new data frame object</span></span>
<span id="cb511-8"><a href="clean.html#cb511-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 Beaverton        1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
<p>Let’s assume that after looking through other organizational records we found that the employee with <code>EmpID</code> equal to <em>“EP1205”</em> works at the <em>“Portland”</em> facility. Accordingly, we want to replace the <code>NA</code> value for the <code>Facility</code> variable for that employee with <em>“Portland”</em>. When adapting the previous script/code, all we need to do is replace <em>“EP1207”</em> with <em>“EP1205”</em> and <em>“Beaverton”</em> with <em>“Portland”</em>.</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb513-1"><a href="clean.html#cb513-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For EmpID equal to EP1205, replace NA with &quot;Portland&quot; using pipe</span></span>
<span id="cb513-2"><a href="clean.html#cb513-2" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> newdf1 <span class="sc">%&gt;%</span> </span>
<span id="cb513-3"><a href="clean.html#cb513-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Facility =</span> <span class="fu">replace</span>(Facility, </span>
<span id="cb513-4"><a href="clean.html#cb513-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">match</span>(<span class="st">&quot;EP1205&quot;</span>, EmpID), </span>
<span id="cb513-5"><a href="clean.html#cb513-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;Portland&quot;</span>))</span>
<span id="cb513-6"><a href="clean.html#cb513-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb513-7"><a href="clean.html#cb513-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print new data frame object</span></span>
<span id="cb513-8"><a href="clean.html#cb513-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 Portland         2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 Beaverton        1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
<p>Now that the <code>Facility</code> variable has been cleaned, let’s move on to the <code>JobLevel</code> variable. If you recall, in the previous section, we determined that there were two problematic values for two cases: <em>-9999</em> (associated with <code>EmpID</code> equal to <em>“1203”</em>) and <em>11</em> (associated with <code>EmpID</code> equal to <em>“1210”</em>). We decided that <em>-9999</em> should be replace with <code>NA</code> because it represents a missing value, and <em>11</em> should be replaced with <em>1</em> because it represents a data entry error. Check out the script/code below to see how these replacements were handled. Also, note that because the <code>JobLevel</code> variable is of type <em>numeric</em>, we don’t put the replacement values of <code>NA</code> and <em>1</em> in direct quotations.</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="clean.html#cb515-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For EmpID equal to EP1203, replace -9999 with NA using pipe</span></span>
<span id="cb515-2"><a href="clean.html#cb515-2" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> newdf1 <span class="sc">%&gt;%</span> </span>
<span id="cb515-3"><a href="clean.html#cb515-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">JobLevel =</span> <span class="fu">replace</span>(JobLevel, </span>
<span id="cb515-4"><a href="clean.html#cb515-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">match</span>(<span class="st">&quot;EP1203&quot;</span>, EmpID), </span>
<span id="cb515-5"><a href="clean.html#cb515-5" aria-hidden="true" tabindex="-1"></a>                            <span class="cn">NA</span>))</span>
<span id="cb515-6"><a href="clean.html#cb515-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb515-7"><a href="clean.html#cb515-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print new data frame object</span></span>
<span id="cb515-8"><a href="clean.html#cb515-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton       NA 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 Portland         2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 Beaverton        1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb517-1"><a href="clean.html#cb517-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For EmpID equal to EP1210, replace 11 with 1 using pipe</span></span>
<span id="cb517-2"><a href="clean.html#cb517-2" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> newdf1 <span class="sc">%&gt;%</span> </span>
<span id="cb517-3"><a href="clean.html#cb517-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">JobLevel =</span> <span class="fu">replace</span>(JobLevel, </span>
<span id="cb517-4"><a href="clean.html#cb517-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">match</span>(<span class="st">&quot;EP1210&quot;</span>, EmpID), </span>
<span id="cb517-5"><a href="clean.html#cb517-5" aria-hidden="true" tabindex="-1"></a>                            <span class="dv">1</span>))</span>
<span id="cb517-6"><a href="clean.html#cb517-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb517-7"><a href="clean.html#cb517-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print new data frame object</span></span>
<span id="cb517-8"><a href="clean.html#cb517-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton       NA 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 Portland         2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 Beaverton        1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton        1 2012-07-11            6.5 No</code></pre>
<p>Finally, let’s assume that for the <code>OnboardingCompleted</code> variable, two of the cases have values that should in fact be <code>NA</code> (missing). Specifically, because the hypothetical onboarding program takes 1.0 year to complete, the two employees (cases) with <code>Org_Tenure_Yrs</code> (organizational tenure in years) equal to <em>0.3</em> have not worked in the company long enough to have completed the 1-year-long onboarding program. Consequently, we decide that it is not appropriate to put <em>“No”</em> or <em>“Yes”</em> for these two employees, which means treating those values as missing (<code>NA</code>) would be most appropriate. The two employees in question have <code>EmpID</code> variable values of <em>“EP1204”</em> and <em>“EP1205”</em>. Note that we can enter <code>NA</code> as the final argument within the <code>replace</code> function parentheses, just as we would with an actual value. Check out the script/code below to see how we replace <em>0.3</em> with <code>NA</code> on the <code>OnboardingCompleted</code> variable for the cases with the <code>EmpID</code> unique identifier variable equal to <em>“EP1204”</em> and <em>“EP1205”</em>.</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb519-1"><a href="clean.html#cb519-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For EmpID equal to EP1204, replace 0.3 with NA using pipe</span></span>
<span id="cb519-2"><a href="clean.html#cb519-2" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> newdf1 <span class="sc">%&gt;%</span> </span>
<span id="cb519-3"><a href="clean.html#cb519-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">OnboardingCompleted =</span> <span class="fu">replace</span>(OnboardingCompleted, </span>
<span id="cb519-4"><a href="clean.html#cb519-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">match</span>(<span class="st">&quot;EP1204&quot;</span>, EmpID), </span>
<span id="cb519-5"><a href="clean.html#cb519-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="cn">NA</span>))</span>
<span id="cb519-6"><a href="clean.html#cb519-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb519-7"><a href="clean.html#cb519-7" aria-hidden="true" tabindex="-1"></a><span class="co"># For EmpID equal to EP1205, replace 0.3 with NA using pipe</span></span>
<span id="cb519-8"><a href="clean.html#cb519-8" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> newdf1 <span class="sc">%&gt;%</span> </span>
<span id="cb519-9"><a href="clean.html#cb519-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">OnboardingCompleted =</span> <span class="fu">replace</span>(OnboardingCompleted, </span>
<span id="cb519-10"><a href="clean.html#cb519-10" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">match</span>(<span class="st">&quot;EP1205&quot;</span>, EmpID), </span>
<span id="cb519-11"><a href="clean.html#cb519-11" aria-hidden="true" tabindex="-1"></a>                                       <span class="cn">NA</span>))</span>
<span id="cb519-12"><a href="clean.html#cb519-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb519-13"><a href="clean.html#cb519-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Print new data frame object</span></span>
<span id="cb519-14"><a href="clean.html#cb519-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton       NA 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 &lt;NA&gt;               
##  5 EP1205 Portland         2 2018-09-19            0.3 &lt;NA&gt;               
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 Beaverton        1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton        1 2012-07-11            6.5 No</code></pre>
</div>
<div id="replace-a-specific-value-for-all-cases-with-a-particular-value" class="section level3" number="19.2.2">
<h3><span class="header-section-number">19.2.2</span> Replace a Specific Value for All Cases with a Particular Value</h3>
<p>If you need to systematically clean multiple values for a given variable, there is another approach that is more efficient. Note that this approach is only appropriate if you have identified that the values in question all need to be changed to the <em>same</em> value. For the sake of this example, let’s pretend that all of the <em>“No”</em> values for the <code>OnboardingCompleted</code> variable were entered incorrectly. Instead of <em>“No”</em>, the value should be <em>“Yes”</em> for each of these cases. First, you will learn how to replace these values in one fell swoop using the <code>mutate</code> function from the <code>dplyr</code> package and the <code>ifelse</code> function from base R. Second, you will learn how to do the same thing without the use of a specific function.</p>
<p>Let’s start with the first approach, which involves the <code>mutate</code> and <code>ifelse</code> functions. Using the pipe (<code>%&gt;%</code>) operator, we can do the following:</p>
<ol style="list-style-type: decimal">
<li>Type the name of a new data frame object; here, I use the same name as the original name to overwrite the existing data frame object called <code>newdf1</code>.</li>
<li>Type the <code>&lt;-</code> operator to the right of the new data frame object so that the results of the subsequent operations can be assigned to the new object.</li>
<li>Type the name of the original data frame object (<code>newdf1</code>), followed by the pipe (<code>%&gt;%</code>) operator.</li>
<li>Type the name of the <code>mutate</code> function. Within the <code>mutate</code> function parentheses, provide the name of an existing or a new variable; in this case, we will overwrite the existing <code>OnboardingCompleted</code> variable by typing the same name as the existing variable. To the right of the <code>mutate</code> function, type the <code>=</code> operator to specify how values for the <code>OnboardingCompleted</code> variable will be determined.</li>
<li>Type the name of the <code>ifelse</code> function, which is a function that can be used for conditional value (element) selection (identification) and replacement. As the first argument, type a conditional statement for the variable whose values you wish to replace; because we wish to replace all <em>“No”</em> values with <em>“Yes”</em> for the <code>OnboardingCompleted</code> variable, we’ll specify the conditional statement as <code>OnboardingCompleted=="No"</code>; for a review of the different logical operators, please refer to the chapter called <a href="filter.html#filter">Filtering Data</a>. As the second argument in the <code>ifelse</code> function, type the replacement value when the aforementioned conditional statement is true for a given value of the <code>OnboardingCompleted</code> variable, which is <em>“Yes”</em> in this example. Because the <code>OnboardingCompleted</code> variable is of type character, this value needs to be in quotation marks (<code>" "</code>). As the final argument function, instruct the <code>ifelse</code> function what the replacement value should be when the aforementioned conditional statement is false, which in this; in this example, we will replace all other values with the existing values of the <code>OnboardingCompleted</code> variable, and thus we’ll enter that variable name as the third argument.</li>
</ol>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb521-1"><a href="clean.html#cb521-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For OnboardingCompleted variable, replace &quot;No&quot; values with &quot;Yes&quot; using pipe</span></span>
<span id="cb521-2"><a href="clean.html#cb521-2" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> newdf1 <span class="sc">%&gt;%</span> </span>
<span id="cb521-3"><a href="clean.html#cb521-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">OnboardingCompleted =</span> <span class="fu">ifelse</span>(OnboardingCompleted<span class="sc">==</span><span class="st">&quot;No&quot;</span>, </span>
<span id="cb521-4"><a href="clean.html#cb521-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Yes&quot;</span>, </span>
<span id="cb521-5"><a href="clean.html#cb521-5" aria-hidden="true" tabindex="-1"></a>                                      OnboardingCompleted))</span>
<span id="cb521-6"><a href="clean.html#cb521-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb521-7"><a href="clean.html#cb521-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print new data frame object</span></span>
<span id="cb521-8"><a href="clean.html#cb521-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 Yes                
##  2 EP1202 Beaverton        1 2008-01-31           10.9 Yes                
##  3 EP1203 Beaverton       NA 2017-02-05            1.9 Yes                
##  4 EP1204 Portland         5 2018-09-19            0.3 &lt;NA&gt;               
##  5 EP1205 Portland         2 2018-09-19            0.3 &lt;NA&gt;               
##  6 EP1206 Beaverton        1 2010-03-23            8.8 Yes                
##  7 EP1207 Beaverton        1 2011-06-01            7.6 Yes                
##  8 EP1208 Portland         4 2010-05-15            8.6 Yes                
##  9 EP1209 Portland         3 2011-04-29            7.7 Yes                
## 10 EP1210 Beaverton        1 2012-07-11            6.5 Yes</code></pre>
<p>Now let’s pretend that we wish to convert the <em>“Yes”</em> values for the <code>OnboardingCompleted</code> variable with the numeric value of <em>1</em>. The format of the code remains virtually the same, except that we change the conditional statement to <code>OnboardingCompleted=="Yes"</code> as the first argument in the <code>ifelse</code> function, and in the second argument, we change the replacement value to <em>1</em>.</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb523-1"><a href="clean.html#cb523-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For OnboardingCompleted variable, replace &quot;Yes&quot; values with 1 using pipe</span></span>
<span id="cb523-2"><a href="clean.html#cb523-2" aria-hidden="true" tabindex="-1"></a>newdf1 <span class="ot">&lt;-</span> newdf1 <span class="sc">%&gt;%</span> </span>
<span id="cb523-3"><a href="clean.html#cb523-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">OnboardingCompleted =</span> <span class="fu">ifelse</span>(OnboardingCompleted<span class="sc">==</span><span class="st">&quot;Yes&quot;</span>, </span>
<span id="cb523-4"><a href="clean.html#cb523-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="dv">1</span>, </span>
<span id="cb523-5"><a href="clean.html#cb523-5" aria-hidden="true" tabindex="-1"></a>                                      OnboardingCompleted))</span>
<span id="cb523-6"><a href="clean.html#cb523-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb523-7"><a href="clean.html#cb523-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print new data frame object</span></span>
<span id="cb523-8"><a href="clean.html#cb523-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt;               &lt;dbl&gt;
##  1 EP1201 Beaverton        1 2010-05-05            8.6                   1
##  2 EP1202 Beaverton        1 2008-01-31           10.9                   1
##  3 EP1203 Beaverton       NA 2017-02-05            1.9                   1
##  4 EP1204 Portland         5 2018-09-19            0.3                  NA
##  5 EP1205 Portland         2 2018-09-19            0.3                  NA
##  6 EP1206 Beaverton        1 2010-03-23            8.8                   1
##  7 EP1207 Beaverton        1 2011-06-01            7.6                   1
##  8 EP1208 Portland         4 2010-05-15            8.6                   1
##  9 EP1209 Portland         3 2011-04-29            7.7                   1
## 10 EP1210 Beaverton        1 2012-07-11            6.5                   1</code></pre>
<p>As an alternative approach, we can write the following code. First, specify the name of the data frame object (<code>newdf1</code>), followed by the <code>$</code> operator and the name of the variable in question (<code>OnboardingCompleted</code>). Second, type brackets (<code>[ ]</code>). Third, within the brackets, enter a conditional statement; for the sake of example, let’s say that we want to identify all instances in which the <code>OnboardingCompleted</code> variable is equal to <em>1</em> (<code>newdf1$OnboardingCompleted==1</code>). Fourth, type the <code>&lt;-</code> operator, followed by the value you wish to use to replace the existing values for which the conditional statement you previously specified is true; in this example, we enter <em>2</em>. Because the two values are <code>numeric</code>, we do not use quotation marks (<code>" "</code>).</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb525-1"><a href="clean.html#cb525-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For OnboardingCompleted variable, replace 1 values with 2</span></span>
<span id="cb525-2"><a href="clean.html#cb525-2" aria-hidden="true" tabindex="-1"></a>newdf1<span class="sc">$</span>OnboardingCompleted[newdf1<span class="sc">$</span>OnboardingCompleted<span class="sc">==</span><span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb525-3"><a href="clean.html#cb525-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb525-4"><a href="clean.html#cb525-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb525-5"><a href="clean.html#cb525-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt;               &lt;dbl&gt;
##  1 EP1201 Beaverton        1 2010-05-05            8.6                   2
##  2 EP1202 Beaverton        1 2008-01-31           10.9                   2
##  3 EP1203 Beaverton       NA 2017-02-05            1.9                   2
##  4 EP1204 Portland         5 2018-09-19            0.3                  NA
##  5 EP1205 Portland         2 2018-09-19            0.3                  NA
##  6 EP1206 Beaverton        1 2010-03-23            8.8                   2
##  7 EP1207 Beaverton        1 2011-06-01            7.6                   2
##  8 EP1208 Portland         4 2010-05-15            8.6                   2
##  9 EP1209 Portland         3 2011-04-29            7.7                   2
## 10 EP1210 Beaverton        1 2012-07-11            6.5                   2</code></pre>
<p>If we wish to change <em>numeric</em> values to <em>character</em> values, be sure to put the <em>character</em> values in quotation marks (<code>" "</code>). In the following example, all instances in which the <code>OnboardingCompleted</code> variable is equal to <em>2</em> are changed to <em>“Yes”</em>.</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb527-1"><a href="clean.html#cb527-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For OnboardingCompleted variable, replace 2 values with &quot;Yes&quot;</span></span>
<span id="cb527-2"><a href="clean.html#cb527-2" aria-hidden="true" tabindex="-1"></a>newdf1<span class="sc">$</span>OnboardingCompleted[newdf1<span class="sc">$</span>OnboardingCompleted<span class="sc">==</span><span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb527-3"><a href="clean.html#cb527-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb527-4"><a href="clean.html#cb527-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb527-5"><a href="clean.html#cb527-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 Yes                
##  2 EP1202 Beaverton        1 2008-01-31           10.9 Yes                
##  3 EP1203 Beaverton       NA 2017-02-05            1.9 Yes                
##  4 EP1204 Portland         5 2018-09-19            0.3 &lt;NA&gt;               
##  5 EP1205 Portland         2 2018-09-19            0.3 &lt;NA&gt;               
##  6 EP1206 Beaverton        1 2010-03-23            8.8 Yes                
##  7 EP1207 Beaverton        1 2011-06-01            7.6 Yes                
##  8 EP1208 Portland         4 2010-05-15            8.6 Yes                
##  9 EP1209 Portland         3 2011-04-29            7.7 Yes                
## 10 EP1210 Beaverton        1 2012-07-11            6.5 Yes</code></pre>
<p>Just for fun, let’s change all of the <em>“Yes”</em> values for the <code>OnboardingCompleted</code> variable back to <em>“No”</em> using the code below.</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb529-1"><a href="clean.html#cb529-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For OnboardingCompleted variable, replace &quot;Yes&quot; values with &quot;No&quot;</span></span>
<span id="cb529-2"><a href="clean.html#cb529-2" aria-hidden="true" tabindex="-1"></a>newdf1<span class="sc">$</span>OnboardingCompleted[newdf1<span class="sc">$</span>OnboardingCompleted<span class="sc">==</span><span class="st">&quot;Yes&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb529-3"><a href="clean.html#cb529-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb529-4"><a href="clean.html#cb529-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb529-5"><a href="clean.html#cb529-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton       NA 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 &lt;NA&gt;               
##  5 EP1205 Portland         2 2018-09-19            0.3 &lt;NA&gt;               
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 Beaverton        1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton        1 2012-07-11            6.5 No</code></pre>
<p>Finally, imagine we wish to replace the <code>NA</code> values in the <code>OnboardingCompleted</code> variable with the value <em>2</em> using this approach. To do so, instead of making our own conditional statement, within the brackets (<code>[ ]</code>), apply the <code>is.na</code> function from base R, and type the name of the data frame, followed by the <code>$</code> operator and the name of the variable containing the <code>NA</code>s. To the right of the bracket, use the <code>&lt;-</code> operator followed by the value with which you wish to replace the <code>NA</code>s.</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb531-1"><a href="clean.html#cb531-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For OnboardingCompleted variable, replace NA values with 2</span></span>
<span id="cb531-2"><a href="clean.html#cb531-2" aria-hidden="true" tabindex="-1"></a>newdf1<span class="sc">$</span>OnboardingCompleted[<span class="fu">is.na</span>(newdf1<span class="sc">$</span>OnboardingCompleted)] <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb531-3"><a href="clean.html#cb531-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb531-4"><a href="clean.html#cb531-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb531-5"><a href="clean.html#cb531-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton       NA 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 2                  
##  5 EP1205 Portland         2 2018-09-19            0.3 2                  
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 Beaverton        1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton        1 2012-07-11            6.5 No</code></pre>
</div>
</div>
<div id="rename-variables" class="section level2" number="19.3">
<h2><span class="header-section-number">19.3</span> Rename Variables</h2>
<p>In some cases you may wish to rename an existing variable. One of the simplest ways to do this is to create a new variable and then delete the old variable. Let’s rename the <code>Org_Tenure_Yrs</code> variable as simply <code>Tenure</code>.</p>
<p>First, specify the name of the data frame object (<code>newdf1</code>), followed by the <code>$</code> operator and the new name of the variable (<code>Tenure</code>). Second, type the <code>&lt;-</code> operator. Third, specify the name of the data frame object (<code>newdf1</code>), followed by the <code>$</code> operator and the name of the old variable (<code>Org_Tenure_Yrs</code>).</p>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="clean.html#cb533-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new variable called Tenure based on Org_Tenure_Yrs variable</span></span>
<span id="cb533-2"><a href="clean.html#cb533-2" aria-hidden="true" tabindex="-1"></a>newdf1<span class="sc">$</span>Tenure <span class="ot">&lt;-</span> newdf1<span class="sc">$</span>Org_Tenure_Yrs</span>
<span id="cb533-3"><a href="clean.html#cb533-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb533-4"><a href="clean.html#cb533-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb533-5"><a href="clean.html#cb533-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 7
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted Tenure
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;                &lt;dbl&gt;
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                     8.6
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                    10.9
##  3 EP1203 Beaverton       NA 2017-02-05            1.9 No                     1.9
##  4 EP1204 Portland         5 2018-09-19            0.3 2                      0.3
##  5 EP1205 Portland         2 2018-09-19            0.3 2                      0.3
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                     8.8
##  7 EP1207 Beaverton        1 2011-06-01            7.6 No                     7.6
##  8 EP1208 Portland         4 2010-05-15            8.6 No                     8.6
##  9 EP1209 Portland         3 2011-04-29            7.7 No                     7.7
## 10 EP1210 Beaverton        1 2012-07-11            6.5 No                     6.5</code></pre>
<p>Note that there is now a new variable called <code>Tenure</code> and that the old variable called <code>Org_Tenure_Yrs</code> remains. To remove the old variable called <code>Org_Tenure_Yrs</code>, first, specify the name of the data frame object (<code>newdf1</code>), followed by the <code>$</code> operator and the name of the old variable (<code>Org_Tenure_Yrs</code>). Second, type the <code>&lt;-</code> operator. Third, enter <code>NULL</code>.</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="clean.html#cb535-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove Org_Tenure_Yrs variable from data frame</span></span>
<span id="cb535-2"><a href="clean.html#cb535-2" aria-hidden="true" tabindex="-1"></a>newdf1<span class="sc">$</span>Org_Tenure_Yrs <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb535-3"><a href="clean.html#cb535-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb535-4"><a href="clean.html#cb535-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb535-5"><a href="clean.html#cb535-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(newdf1)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  OnboardingCompleted Tenure
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;                &lt;dbl&gt;
##  1 EP1201 Beaverton        1 2010-05-05 No                     8.6
##  2 EP1202 Beaverton        1 2008-01-31 No                    10.9
##  3 EP1203 Beaverton       NA 2017-02-05 No                     1.9
##  4 EP1204 Portland         5 2018-09-19 2                      0.3
##  5 EP1205 Portland         2 2018-09-19 2                      0.3
##  6 EP1206 Beaverton        1 2010-03-23 No                     8.8
##  7 EP1207 Beaverton        1 2011-06-01 No                     7.6
##  8 EP1208 Portland         4 2010-05-15 No                     8.6
##  9 EP1209 Portland         3 2011-04-29 No                     7.7
## 10 EP1210 Beaverton        1 2012-07-11 No                     6.5</code></pre>
<p>As you can see, the <code>Org_Tenure_Yrs</code> variable is now gone.</p>
</div>
<div id="other-approaches-to-cleaning-data" class="section level2" number="19.4">
<h2><span class="header-section-number">19.4</span> Other Approaches to Cleaning Data</h2>
<p>In the following sections, we will consider some other approaches to cleaning data, that under certain conditions, may be more elegant and efficient solutions.</p>
<div id="changing-the-case-of-variable-names" class="section level3" number="19.4.1">
<h3><span class="header-section-number">19.4.1</span> Changing the Case of Variable Names</h3>
<p>In some instances, we may wish to systematically change the case of all variable or column names. There are a few functions that can be quite handy in this regard. Let’s revert back the name of the data frame object we initially read in and names: <code>df</code>.</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="clean.html#cb537-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access readr package</span></span>
<span id="cb537-2"><a href="clean.html#cb537-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb537-3"><a href="clean.html#cb537-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb537-4"><a href="clean.html#cb537-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in set of data as data frame</span></span>
<span id="cb537-5"><a href="clean.html#cb537-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;DataCleaningExample.csv&quot;</span>)</span></code></pre></div>
<p>To change the case of variable or column names such that they are all lower case, we can use the <code>tolower</code> function from base R. Let’s change the variable names to be all lower case. We will need to use the <code>names</code> function from base R as well to signal that we are referencing the column names as opposed to the values for each variable. First, type the name of the <code>names</code> function with the name of the new data frame object you are creating and naming as the sole argument; here, we will put in the same name of the existing data frame to overwrite it. Second, enter the <code>&lt;-</code> operator to create and name the new data frame object. Third, enter the <code>tolower</code> function, and as the sole argument, include the <code>names</code> function again with the name of the focal data frame object as its sole argument.</p>
<div class="sourceCode" id="cb538"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb538-1"><a href="clean.html#cb538-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change case of variable names to all lower case</span></span>
<span id="cb538-2"><a href="clean.html#cb538-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(df))</span>
<span id="cb538-3"><a href="clean.html#cb538-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb538-4"><a href="clean.html#cb538-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb538-5"><a href="clean.html#cb538-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    empid  facility  joblevel startdate  org_tenure_yrs onboardingcompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 beverton         1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
<p>We can use the <code>toupper</code> function to change the variable names to all upper case.</p>
<div class="sourceCode" id="cb540"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb540-1"><a href="clean.html#cb540-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change case of variable names to all upper case</span></span>
<span id="cb540-2"><a href="clean.html#cb540-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">names</span>(df))</span>
<span id="cb540-3"><a href="clean.html#cb540-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-4"><a href="clean.html#cb540-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb540-5"><a href="clean.html#cb540-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EMPID  FACILITY  JOBLEVEL STARTDATE  ORG_TENURE_YRS ONBOARDINGCOMPLETED
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 beverton         1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
<p>If you wanted to capitalize just the first letter in each variable name, we can create our function to do so. Let’s call this function <code>firstletterupper</code> and use the function called <code>function</code> from base R to program our own function. In this function, we will define what the function will do. Essentially, we are going to create two strings of text and then concatenate them using the <code>paste</code> function. As the first argument in the <code>paste</code> function and to select a string of text, we will pull just the first letter of each variable name using the <code>substring</code> function; the second and third numeric arguments in this function indicate the range of letters that we will pull out, and because we put <em>1</em> and <em>1</em>, we are saying retain just the first letter in each name. We then enter this <code>substring</code> function as an argument in the <code>toupper</code> function so that we will just capitalize the first letter of each variable. We will then enter the second argument in the <code>paste</code> function, which is another <code>substring</code> function; this time, we will indicate that we simply wish to retain the second letter in each name followed by any remaining letters, and we do so by entering the numeral <em>2</em> as the second argument. We then enter this <code>substring</code> function as an argument in the <code>tolower</code> function to make all but the first letter in each variable name lower case. As the final argument in the <code>paste</code> function, we enter <code>sep=""</code> to signify that we do <em>not</em> want any space between these letters when they are concatenated; note that there is no space within the quotation marks. We can now run this script to program our new function called <code>firstletterupper</code>.</p>
<div class="sourceCode" id="cb542"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb542-1"><a href="clean.html#cb542-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create function to change just first letter of variable name to upper case</span></span>
<span id="cb542-2"><a href="clean.html#cb542-2" aria-hidden="true" tabindex="-1"></a>firstletterupper <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {<span class="fu">paste</span>(<span class="fu">toupper</span>(<span class="fu">substring</span>(x, <span class="dv">1</span>, <span class="dv">1</span>)), </span>
<span id="cb542-3"><a href="clean.html#cb542-3" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">tolower</span>(<span class="fu">substring</span>(x, <span class="dv">2</span>)), </span>
<span id="cb542-4"><a href="clean.html#cb542-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">sep=</span><span class="st">&quot;&quot;</span>)}</span></code></pre></div>
<p>With our new DIY function called <code>firstletterupper</code> we can apply it to the variable names using the same approach we did above with the <code>toupper</code> and <code>tolower</code> functions.</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="clean.html#cb543-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change just first letter of variable name to upper case</span></span>
<span id="cb543-2"><a href="clean.html#cb543-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> <span class="fu">firstletterupper</span>(<span class="fu">names</span>(df))</span>
<span id="cb543-3"><a href="clean.html#cb543-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb543-4"><a href="clean.html#cb543-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb543-5"><a href="clean.html#cb543-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    Empid  Facility  Joblevel Startdate  Org_tenure_yrs Onboardingcompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 beverton         1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
<p>Alternatively, we could use the <code>clean_names</code> function from the <code>janitor</code> package <span class="citation">(<a href="references.html#ref-R-janitor" role="doc-biblioref">Firke 2021</a>)</span>. Be sure to install and access the package if you haven’t already.</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb545-1"><a href="clean.html#cb545-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install janitor package if you haven&#39;t already</span></span>
<span id="cb545-2"><a href="clean.html#cb545-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;janitor&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb546-1"><a href="clean.html#cb546-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access janitor package</span></span>
<span id="cb546-2"><a href="clean.html#cb546-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code></pre></div>
<p>When coupled with the <code>case=upper_camel</code> argument, the <code>clean_names</code> function will capitalize the first letter in variable names, and if there is an underscore within the variable name (<code>_</code>), the function will capitalize the letter that comes immediately after the underscore.</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="clean.html#cb547-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change just first letter of variable name to upper case</span></span>
<span id="cb547-2"><a href="clean.html#cb547-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">clean_names</span>(df, <span class="at">case=</span><span class="st">&quot;upper_camel&quot;</span>)</span>
<span id="cb547-3"><a href="clean.html#cb547-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb547-4"><a href="clean.html#cb547-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb547-5"><a href="clean.html#cb547-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    Empid  Facility  Joblevel Startdate  OrgTenureYrs Onboardingcompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;            &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05          8.6 No                 
##  2 EP1202 beaverton        1 2008-01-31         10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05          1.9 No                 
##  4 EP1204 Portland         5 2018-09-19          0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19          0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23          8.8 No                 
##  7 EP1207 beverton         1 2011-06-01          7.6 No                 
##  8 EP1208 Portland         4 2010-05-15          8.6 No                 
##  9 EP1209 Portland         3 2011-04-29          7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11          6.5 No</code></pre>
<p>There are many other <code>case=</code> arguments that you could use for the <code>clean_name</code> functions to different variations of capitalization. Just access the help menu for the function as shown below.</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb549-1"><a href="clean.html#cb549-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access help information for clean_names function</span></span>
<span id="cb549-2"><a href="clean.html#cb549-2" aria-hidden="true" tabindex="-1"></a>?<span class="fu">clean_names</span>()</span></code></pre></div>
</div>
<div id="changing-the-case-of-character-variable-values" class="section level3" number="19.4.2">
<h3><span class="header-section-number">19.4.2</span> Changing the Case of Character Variable Values</h3>
<p>In other instances, we may wish to systematically change the case of values for a character variable. As before, let’s revert back the name of the data frame object we initially read in and names: <code>df</code>.</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="clean.html#cb550-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access readr package</span></span>
<span id="cb550-2"><a href="clean.html#cb550-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb550-3"><a href="clean.html#cb550-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb550-4"><a href="clean.html#cb550-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in set of data as data frame</span></span>
<span id="cb550-5"><a href="clean.html#cb550-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;DataCleaningExample.csv&quot;</span>)</span></code></pre></div>
<p>To change the case of variable or column names such that they are all lower case, we can use the <code>tolower</code> function from base R. Let’s change the variable names to be all lower case. We will need to use the <code>names</code> function from base R as well to signal that we are referencing the column names as opposed to the values for each variable. First, type the name of the <code>names</code> function with the name of the new data frame object you are creating and naming as the sole argument; here, we will put in the same name of the existing data frame to overwrite it. Second, enter the <code>&lt;-</code> operator to create and name the new data frame object. Third, enter the <code>tolower</code> function, and as the sole argument, include the <code>names</code> function again with the name of the focal data frame object as its sole argument.</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb551-1"><a href="clean.html#cb551-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change case of Facility variable&#39;s values to all lower case</span></span>
<span id="cb551-2"><a href="clean.html#cb551-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Facility <span class="ot">&lt;-</span> <span class="fu">tolower</span>(df<span class="sc">$</span>Facility)</span>
<span id="cb551-3"><a href="clean.html#cb551-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb551-4"><a href="clean.html#cb551-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb551-5"><a href="clean.html#cb551-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 portland         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 beverton         1 2011-06-01            7.6 No                 
##  8 EP1208 portland         4 2010-05-15            8.6 No                 
##  9 EP1209 portland         3 2011-04-29            7.7 No                 
## 10 EP1210 beaverton       11 2012-07-11            6.5 No</code></pre>
<p>We can similarly use the <code>toupper</code> function to change a character variable’s values to all upper case.</p>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb553-1"><a href="clean.html#cb553-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change case of Facility variable&#39;s values to all upper case</span></span>
<span id="cb553-2"><a href="clean.html#cb553-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Facility <span class="ot">&lt;-</span> <span class="fu">toupper</span>(df<span class="sc">$</span>Facility)</span>
<span id="cb553-3"><a href="clean.html#cb553-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb553-4"><a href="clean.html#cb553-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb553-5"><a href="clean.html#cb553-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 BEAVERTON        1 2010-05-05            8.6 No                 
##  2 EP1202 BEAVERTON        1 2008-01-31           10.9 No                 
##  3 EP1203 BEAVERTON    -9999 2017-02-05            1.9 No                 
##  4 EP1204 PORTLAND         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 BEAVERTON        1 2010-03-23            8.8 No                 
##  7 EP1207 BEVERTON         1 2011-06-01            7.6 No                 
##  8 EP1208 PORTLAND         4 2010-05-15            8.6 No                 
##  9 EP1209 PORTLAND         3 2011-04-29            7.7 No                 
## 10 EP1210 BEAVERTON       11 2012-07-11            6.5 No</code></pre>
<p>If you wanted to capitalize just the first letter in a character variable’s values, we can create our function to do so. Let’s call this function <code>firstletterupper</code> and use the function called <code>function</code> from base R to program our own function. In this function, we will define what the function will do. Essentially, we are going to create two strings of text and then concatenate them using the <code>paste</code> function. As the first argument in the <code>paste</code> function and to select a string of text, we will pull just the first letter of the character variable’s values using the <code>substring</code> function; the second and third numeric arguments in this function indicate the range of letters that we will pull out, and because we put <em>1</em> and <em>1</em>, we are saying retain just the first letter in each name. We then enter this <code>substring</code> function as an argument in the <code>toupper</code> function so that we will just capitalize the first letter of the variable’s values. We will then enter the second argument in the <code>paste</code> function, which is another <code>substring</code> function; this time, we will indicate that we simply wish to retain the second letter in each value followed by any remaining letters, and we do so by entering the numeral <em>2</em> as the second argument. We then enter this <code>substring</code> function as an argument in the <code>tolower</code> function to make all but the first letter in each variable name lower case. As the final argument in the <code>paste</code> function, we enter <code>sep=""</code> to signify that we do <em>not</em> want any space between these letters when they are concatenated; note that there is no space within the quotation marks. We can now run this script to program our new function called <code>firstletterupper</code>. Note that this is the same function we created above for changing the case of variable names, but we will take it to another level in this instance. Specifically, we are now ready to insert the <code>paste</code> function we just specified into the <code>ifelse</code> function from base R. Specifically, in case there are any missing values (<code>NA</code>s), we want to exclude those when running this <code>paste</code> function. As the first argument in the <code>ifelse</code> function enter <code>!is.na(x)</code> to indicate we want to select those values for that are <em>not</em> <code>NA</code>. As the second argument, we enter what we wrote for the <code>paste</code> function. As the third argument, we address the “else” part of the <code>ifelse</code> function; meaning, we need to indicate how values that are <code>NA</code> should be treated. By entering the name of the object <code>x</code> as this final argument, we are indicating that the original value (which in this case is actually missing as <code>NA</code>) will be retained.</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="clean.html#cb555-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create function to change just first letter of character variable&#39;s values to upper case</span></span>
<span id="cb555-2"><a href="clean.html#cb555-2" aria-hidden="true" tabindex="-1"></a>firstletterupper <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {<span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(x), </span>
<span id="cb555-3"><a href="clean.html#cb555-3" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">paste</span>(<span class="fu">toupper</span>(<span class="fu">substring</span>(x, <span class="dv">1</span>, <span class="dv">1</span>)), </span>
<span id="cb555-4"><a href="clean.html#cb555-4" aria-hidden="true" tabindex="-1"></a>                                              <span class="fu">tolower</span>(<span class="fu">substring</span>(x, <span class="dv">2</span>)),</span>
<span id="cb555-5"><a href="clean.html#cb555-5" aria-hidden="true" tabindex="-1"></a>                                              <span class="at">sep=</span><span class="st">&quot;&quot;</span>), x)}</span></code></pre></div>
<p>With our new DIY function called <code>firstletterupper</code> we can apply it to the character variable we wish to change (<code>Facility</code>).</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="clean.html#cb556-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change just first letter of character variable&#39;s values to upper case</span></span>
<span id="cb556-2"><a href="clean.html#cb556-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Facility <span class="ot">&lt;-</span> <span class="fu">firstletterupper</span>(df<span class="sc">$</span>Facility)</span>
<span id="cb556-3"><a href="clean.html#cb556-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb556-4"><a href="clean.html#cb556-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data frame object</span></span>
<span id="cb556-5"><a href="clean.html#cb556-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    EmpID  Facility  JobLevel StartDate  Org_Tenure_Yrs OnboardingCompleted
##    &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt; &lt;date&gt;              &lt;dbl&gt; &lt;chr&gt;              
##  1 EP1201 Beaverton        1 2010-05-05            8.6 No                 
##  2 EP1202 Beaverton        1 2008-01-31           10.9 No                 
##  3 EP1203 Beaverton    -9999 2017-02-05            1.9 No                 
##  4 EP1204 Portland         5 2018-09-19            0.3 No                 
##  5 EP1205 &lt;NA&gt;             2 2018-09-19            0.3 No                 
##  6 EP1206 Beaverton        1 2010-03-23            8.8 No                 
##  7 EP1207 Beverton         1 2011-06-01            7.6 No                 
##  8 EP1208 Portland         4 2010-05-15            8.6 No                 
##  9 EP1209 Portland         3 2011-04-29            7.7 No                 
## 10 EP1210 Beaverton       11 2012-07-11            6.5 No</code></pre>
</div>
</div>
<div id="summary-15" class="section level2" number="19.5">
<h2><span class="header-section-number">19.5</span> Summary</h2>
<p>In this tutorial, using the <code>View</code> function from base R and the <code>count</code> function from the <code>dplyr</code> package, we learned how to review data to identify problematic values or variables. In addition, we learned how to clean data by change values using the <code>mutate</code> function from the <code>dplyr</code> package and the <code>replace</code>, <code>match</code>, and <code>ifelse</code> functions from base R. Next, we learned how to rename variables and remove existing variables. Finally, we learned some alternative approaches to changing the case of character variables and values.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="filter.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="aggregatesegment.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
