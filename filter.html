<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Filtering Data | R for HR: An Introduction to Human Resource Analytics Using R BOOK UNDER CONSTRUCTION</title>
  <meta name="description" content="Human resource (HR) analytics is a growing area of HR manage, and the purpose of this book is to show how the R programming language can be used as tool to manage, analyze, and visualize HR data in order to derive insights and to inform decision making. [NOTE: This book is currently under construction.]" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Filtering Data | R for HR: An Introduction to Human Resource Analytics Using R BOOK UNDER CONSTRUCTION" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="cover.png" />
  <meta property="og:description" content="Human resource (HR) analytics is a growing area of HR manage, and the purpose of this book is to show how the R programming language can be used as tool to manage, analyze, and visualize HR data in order to derive insights and to inform decision making. [NOTE: This book is currently under construction.]" />
  <meta name="github-repo" content="davidcaughlin/R-for-HR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Filtering Data | R for HR: An Introduction to Human Resource Analytics Using R BOOK UNDER CONSTRUCTION" />
  
  <meta name="twitter:description" content="Human resource (HR) analytics is a growing area of HR manage, and the purpose of this book is to show how the R programming language can be used as tool to manage, analyze, and visualize HR data in order to derive insights and to inform decision making. [NOTE: This book is currently under construction.]" />
  <meta name="twitter:image" content="cover.png" />

<meta name="author" content="David E. Caughlin" />


<meta name="date" content="2021-01-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="join.html"/>
<link rel="next" href="read-supplement.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for HR</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#hragrowth"><i class="fa fa-check"></i><b>0.1</b> Growth of HR Analytics</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#skills-gap"><i class="fa fa-check"></i><b>0.2</b> Skills Gap</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#hraplc"><i class="fa fa-check"></i><b>0.3</b> HR Analytics Project Life Cycle</a><ul>
<li class="chapter" data-level="0.3.1" data-path="index.html"><a href="index.html#questform"><i class="fa fa-check"></i><b>0.3.1</b> Question Formulation</a></li>
<li class="chapter" data-level="0.3.2" data-path="index.html"><a href="index.html#dacquire"><i class="fa fa-check"></i><b>0.3.2</b> Data Acquisition</a></li>
<li class="chapter" data-level="0.3.3" data-path="index.html"><a href="index.html#dmanage"><i class="fa fa-check"></i><b>0.3.3</b> Data Management</a></li>
<li class="chapter" data-level="0.3.4" data-path="index.html"><a href="index.html#danalysis"><i class="fa fa-check"></i><b>0.3.4</b> Data Analysis</a></li>
<li class="chapter" data-level="0.3.5" data-path="index.html"><a href="index.html#dinterpret"><i class="fa fa-check"></i><b>0.3.5</b> Data Interpretion &amp; Storytelling</a></li>
<li class="chapter" data-level="0.3.6" data-path="index.html"><a href="index.html#ddeploy"><i class="fa fa-check"></i><b>0.3.6</b> Deployment &amp; Implementation</a></li>
</ul></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#philosophy"><i class="fa fa-check"></i><b>0.4</b> My Philosophy for This Book</a><ul>
<li class="chapter" data-level="0.4.1" data-path="index.html"><a href="index.html#rationalerpref"><i class="fa fa-check"></i><b>0.4.1</b> Rationale for Using R</a></li>
<li class="chapter" data-level="0.4.2" data-path="index.html"><a href="index.html#audiencepref"><i class="fa fa-check"></i><b>0.4.2</b> Audience</a></li>
<li class="chapter" data-level="0.4.3" data-path="index.html"><a href="index.html#structurepref"><i class="fa fa-check"></i><b>0.4.3</b> Structure</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#aboutauthor"><i class="fa fa-check"></i><b>0.5</b> About the Author</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#acknowpref"><i class="fa fa-check"></i><b>0.6</b> Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>I Introduction to R</b></span></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Installing R &amp; RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#downloading-installing-r"><i class="fa fa-check"></i><b>1.1</b> Downloading &amp; Installing R</a><ul>
<li class="chapter" data-level="1.1.1" data-path="install.html"><a href="install.html#for-windows-operation-systems"><i class="fa fa-check"></i><b>1.1.1</b> For Windows Operation Systems</a></li>
<li class="chapter" data-level="1.1.2" data-path="install.html"><a href="install.html#for-mac-operating-systems"><i class="fa fa-check"></i><b>1.1.2</b> For Mac Operating Systems</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#downloading-installing-rstudio"><i class="fa fa-check"></i><b>1.2</b> Downloading &amp; Installing RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>1.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="gettingstarted.html"><a href="gettingstarted.html"><i class="fa fa-check"></i><b>2</b> Getting Started with R</a><ul>
<li class="chapter" data-level="2.1" data-path="gettingstarted.html"><a href="gettingstarted.html#orientation-to-rstudio"><i class="fa fa-check"></i><b>2.1</b> Orientation to RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="gettingstarted.html"><a href="gettingstarted.html#createRscript"><i class="fa fa-check"></i><b>2.2</b> Creating &amp; Saving an R Script</a><ul>
<li class="chapter" data-level="2.2.1" data-path="gettingstarted.html"><a href="gettingstarted.html#creating-a-new-r-script"><i class="fa fa-check"></i><b>2.2.1</b> Creating a New R Script</a></li>
<li class="chapter" data-level="2.2.2" data-path="gettingstarted.html"><a href="gettingstarted.html#using-an-r-script"><i class="fa fa-check"></i><b>2.2.2</b> Using an R Script</a></li>
<li class="chapter" data-level="2.2.3" data-path="gettingstarted.html"><a href="gettingstarted.html#saving-an-r-script"><i class="fa fa-check"></i><b>2.2.3</b> Saving an R Script</a></li>
<li class="chapter" data-level="2.2.4" data-path="gettingstarted.html"><a href="gettingstarted.html#opening-a-saved-r-script"><i class="fa fa-check"></i><b>2.2.4</b> Opening a Saved R Script</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="gettingstarted.html"><a href="gettingstarted.html#creating-an-rstudio-project"><i class="fa fa-check"></i><b>2.3</b> Creating an RStudio Project</a><ul>
<li class="chapter" data-level="2.3.1" data-path="gettingstarted.html"><a href="gettingstarted.html#creating-a-new-rstudio-project"><i class="fa fa-check"></i><b>2.3.1</b> Creating a New RStudio Project</a></li>
<li class="chapter" data-level="2.3.2" data-path="gettingstarted.html"><a href="gettingstarted.html#opening-an-existing-rstudio-project"><i class="fa fa-check"></i><b>2.3.2</b> Opening an Existing RStudio Project</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="gettingstarted.html"><a href="gettingstarted.html#orientation-to-written-tutorials"><i class="fa fa-check"></i><b>2.4</b> Orientation to Written Tutorials</a></li>
<li class="chapter" data-level="2.5" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>2.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="gentleintro.html"><a href="gentleintro.html"><i class="fa fa-check"></i><b>3</b> Basic Features and Operations of the R Language</a><ul>
<li class="chapter" data-level="3.1" data-path="gentleintro.html"><a href="gentleintro.html#r-as-a-calculator"><i class="fa fa-check"></i><b>3.1</b> R as a Calculator</a></li>
<li class="chapter" data-level="3.2" data-path="gentleintro.html"><a href="gentleintro.html#functions"><i class="fa fa-check"></i><b>3.2</b> Functions</a></li>
<li class="chapter" data-level="3.3" data-path="gentleintro.html"><a href="gentleintro.html#packages"><i class="fa fa-check"></i><b>3.3</b> Packages</a></li>
<li class="chapter" data-level="3.4" data-path="gentleintro.html"><a href="gentleintro.html#variable-assignment"><i class="fa fa-check"></i><b>3.4</b> Variable Assignment</a></li>
<li class="chapter" data-level="3.5" data-path="gentleintro.html"><a href="gentleintro.html#types-of-data"><i class="fa fa-check"></i><b>3.5</b> Types of Data</a><ul>
<li class="chapter" data-level="3.5.1" data-path="gentleintro.html"><a href="gentleintro.html#numeric-data"><i class="fa fa-check"></i><b>3.5.1</b> <code>numeric</code> Data</a></li>
<li class="chapter" data-level="3.5.2" data-path="gentleintro.html"><a href="gentleintro.html#character-data"><i class="fa fa-check"></i><b>3.5.2</b> <code>character</code> Data</a></li>
<li class="chapter" data-level="3.5.3" data-path="gentleintro.html"><a href="gentleintro.html#date-data"><i class="fa fa-check"></i><b>3.5.3</b> <code>Date</code> Data</a></li>
<li class="chapter" data-level="3.5.4" data-path="gentleintro.html"><a href="gentleintro.html#logical-data"><i class="fa fa-check"></i><b>3.5.4</b> <code>logical</code> Data</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="gentleintro.html"><a href="gentleintro.html#vectors"><i class="fa fa-check"></i><b>3.6</b> Vectors</a></li>
<li class="chapter" data-level="3.7" data-path="gentleintro.html"><a href="gentleintro.html#lists"><i class="fa fa-check"></i><b>3.7</b> Lists</a></li>
<li class="chapter" data-level="3.8" data-path="gentleintro.html"><a href="gentleintro.html#data-frames"><i class="fa fa-check"></i><b>3.8</b> Data Frames</a></li>
<li class="chapter" data-level="3.9" data-path="gentleintro.html"><a href="gentleintro.html#annotate"><i class="fa fa-check"></i><b>3.9</b> Annotations</a></li>
<li class="chapter" data-level="3.10" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>3.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="setwd.html"><a href="setwd.html"><i class="fa fa-check"></i><b>4</b> Setting a Working Directory</a><ul>
<li class="chapter" data-level="4.0.1" data-path="setwd.html"><a href="setwd.html#identify-the-current-working-directory"><i class="fa fa-check"></i><b>4.0.1</b> Identify the Current Working Directory</a></li>
<li class="chapter" data-level="4.0.2" data-path="setwd.html"><a href="setwd.html#set-a-new-working-directory"><i class="fa fa-check"></i><b>4.0.2</b> Set a New Working Directory</a></li>
<li class="chapter" data-level="4.1" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>4.1</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>II Data Acquisition</b></span></li>
<li class="chapter" data-level="5" data-path="read.html"><a href="read.html"><i class="fa fa-check"></i><b>5</b> Reading Data into R</a><ul>
<li class="chapter" data-level="5.1" data-path="read.html"><a href="read.html#read-a-.csv-file"><i class="fa fa-check"></i><b>5.1</b> Read a .csv File</a></li>
<li class="chapter" data-level="5.2" data-path="read.html"><a href="read.html#read-a-.xlsx-file"><i class="fa fa-check"></i><b>5.2</b> Read a .xlsx File</a></li>
<li class="chapter" data-level="5.3" data-path="read.html"><a href="read.html#read_specialtopics"><i class="fa fa-check"></i><b>5.3</b> Special Topics</a><ul>
<li class="chapter" data-level="5.3.1" data-path="read.html"><a href="read.html#list-data-file-names-in-working-directory"><i class="fa fa-check"></i><b>5.3.1</b> List Data File Names in Working Directory</a></li>
<li class="chapter" data-level="5.3.2" data-path="read.html"><a href="read.html#skip-rows-of-data-when-reading"><i class="fa fa-check"></i><b>5.3.2</b> Skip Rows of Data When Reading</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>5.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="addnames.html"><a href="addnames.html"><i class="fa fa-check"></i><b>6</b> Removing and Adding Variable Names</a><ul>
<li class="chapter" data-level="6.1" data-path="addnames.html"><a href="addnames.html#remove-variable-names-from-a-data-frame-object"><i class="fa fa-check"></i><b>6.1</b> Remove Variable Names from a Data Frame Object</a></li>
<li class="chapter" data-level="6.2" data-path="addnames.html"><a href="addnames.html#add-variable-names-to-a-data-frame-object"><i class="fa fa-check"></i><b>6.2</b> Add Variable Names to a Data Frame Object</a></li>
<li class="chapter" data-level="6.3" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>6.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="write.html"><a href="write.html"><i class="fa fa-check"></i><b>7</b> Writing Data from R</a><ul>
<li class="chapter" data-level="7.1" data-path="write.html"><a href="write.html#write-data-frame-to-working-directory"><i class="fa fa-check"></i><b>7.1</b> Write Data Frame to Working Directory</a></li>
<li class="chapter" data-level="7.2" data-path="write.html"><a href="write.html#write-table-to-working-directory"><i class="fa fa-check"></i><b>7.2</b> Write Table to Working Directory</a></li>
<li class="chapter" data-level="7.3" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>7.3</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>III Data Management</b></span></li>
<li class="chapter" data-level="8" data-path="arrange.html"><a href="arrange.html"><i class="fa fa-check"></i><b>8</b> Arranging (Sorting) Data</a><ul>
<li class="chapter" data-level="8.1" data-path="arrange.html"><a href="arrange.html#arrangebyvalues"><i class="fa fa-check"></i><b>8.1</b> Arrange (Sort) Data</a><ul>
<li class="chapter" data-level="8.1.1" data-path="arrange.html"><a href="arrange.html#opt1_arrange_withpipe"><i class="fa fa-check"></i><b>8.1.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="8.1.2" data-path="arrange.html"><a href="arrange.html#opt1_arrange_withoutpipe"><i class="fa fa-check"></i><b>8.1.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>8.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="join.html"><a href="join.html"><i class="fa fa-check"></i><b>9</b> Joining (Merging) Data</a><ul>
<li class="chapter" data-level="9.1" data-path="join.html"><a href="join.html#horizontaljoin"><i class="fa fa-check"></i><b>9.1</b> Horizontal Join (Merge)</a><ul>
<li class="chapter" data-level="9.1.1" data-path="join.html"><a href="join.html#opt2_join_withpipe"><i class="fa fa-check"></i><b>9.1.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="9.1.2" data-path="join.html"><a href="join.html#opt2_join_withoutpipe"><i class="fa fa-check"></i><b>9.1.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="join.html"><a href="join.html#verticaljoin"><i class="fa fa-check"></i><b>9.2</b> Vertical Join (Merge)</a></li>
<li class="chapter" data-level="9.3" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>9.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="filter.html"><a href="filter.html"><i class="fa fa-check"></i><b>10</b> Filtering Data</a><ul>
<li class="chapter" data-level="10.1" data-path="filter.html"><a href="filter.html#filter-cases-from-data-frame"><i class="fa fa-check"></i><b>10.1</b> Filter Cases from Data Frame</a><ul>
<li class="chapter" data-level="10.1.1" data-path="filter.html"><a href="filter.html#with-pipes"><i class="fa fa-check"></i><b>10.1.1</b> <em>With</em> Pipes</a></li>
<li class="chapter" data-level="10.1.2" data-path="filter.html"><a href="filter.html#without-pipes"><i class="fa fa-check"></i><b>10.1.2</b> <em>Without</em> Pipes</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="filter.html"><a href="filter.html#remove-single-variable-from-data-frame"><i class="fa fa-check"></i><b>10.2</b> Remove Single Variable from Data Frame</a></li>
<li class="chapter" data-level="10.3" data-path="filter.html"><a href="filter.html#select-multiple-variables-from-data-frame"><i class="fa fa-check"></i><b>10.3</b> Select Multiple Variables from Data Frame</a><ul>
<li class="chapter" data-level="10.3.1" data-path="filter.html"><a href="filter.html#with-pipe"><i class="fa fa-check"></i><b>10.3.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="10.3.2" data-path="filter.html"><a href="filter.html#without-pipe"><i class="fa fa-check"></i><b>10.3.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="filter.html"><a href="filter.html#remove-multiple-variables-from-data-frame"><i class="fa fa-check"></i><b>10.4</b> Remove Multiple Variables from Data Frame</a><ul>
<li class="chapter" data-level="10.4.1" data-path="filter.html"><a href="filter.html#with-pipe-1"><i class="fa fa-check"></i><b>10.4.1</b> <em>With</em> Pipe</a></li>
<li class="chapter" data-level="10.4.2" data-path="filter.html"><a href="filter.html#without-pipe-1"><i class="fa fa-check"></i><b>10.4.2</b> <em>Without</em> Pipe</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="install.html"><a href="install.html#summary"><i class="fa fa-check"></i><b>10.5</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>Chapter Supplements</b></span></li>
<li class="chapter" data-level="" data-path="read-supplement.html"><a href="read-supplement.html"><i class="fa fa-check"></i>Read Data: Chapter Supplement</a><ul>
<li><a href="read-supplement.html#readcsv_supp"><code>read.csv</code> Function from Base R</a></li>
<li><a href="read-supplement.html#readlessr_supp"><code>Read</code> Function from <code>lessR</code> Package</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="arrange-supplement.html"><a href="arrange-supplement.html"><i class="fa fa-check"></i>Arranging (Sorting) Data: Chapter Supplement</a><ul>
<li><a href="arrange-supplement.html#arrange_supp"><code>order</code> Function from Base R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="join-supplement.html"><a href="join-supplement.html"><i class="fa fa-check"></i>Joining (Merging) Data: Chapter Supplement</a><ul>
<li><a href="join-supplement.html#join_supp"><code>merge</code> Function from Base R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="filter-supplement.html"><a href="filter-supplement.html"><i class="fa fa-check"></i>Filtering Data: Chapter Supplement</a><ul>
<li><a href="filter-supplement.html#filter_supp"><code>subset</code> Function from Base R</a><ul>
<li class="chapter" data-level="10.5.1" data-path="filter.html"><a href="filter.html#filter-cases-from-data-frame"><i class="fa fa-check"></i><b>10.5.1</b> Filter Cases from Data Frame</a></li>
<li class="chapter" data-level="10.5.2" data-path="filter-supplement.html"><a href="filter-supplement.html#select-single-variable-from-data-frame"><i class="fa fa-check"></i><b>10.5.2</b> Select Single Variable from Data Frame</a></li>
<li class="chapter" data-level="10.5.3" data-path="filter.html"><a href="filter.html#select-multiple-variables-from-data-frame"><i class="fa fa-check"></i><b>10.5.3</b> Select Multiple Variables from Data Frame</a></li>
<li class="chapter" data-level="10.5.4" data-path="filter.html"><a href="filter.html#remove-single-variable-from-data-frame"><i class="fa fa-check"></i><b>10.5.4</b> Remove Single Variable from Data Frame</a></li>
<li class="chapter" data-level="10.5.5" data-path="filter.html"><a href="filter.html#remove-multiple-variables-from-data-frame"><i class="fa fa-check"></i><b>10.5.5</b> Remove Multiple Variables from Data Frame</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for HR:<br />
<em>An Introduction to Human Resource Analytics Using R</em><br />
BOOK UNDER CONSTRUCTION</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="filter" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Filtering Data</h1>
<p><strong>Filtering</strong> data (i.e., <strong>subsetting</strong> data) is an important data-management process, as it allows us to (a) select or remove a <em>subset of cases</em> from a data frame based on their scores on one or more variables, or to (b) select or remove a <em>subset of variables</em> from a data frame.</p>
<div id="conceptual-review-of-logical-operators" class="section level4">
<h4><span class="header-section-number">10.0.0.1</span> Conceptual Review of Logical Operators</h4>
<p>When our goal is to select or remove a subset of cases (i.e., observations) from a data frame, we typically do so by applying logical operators. You may already be comfortable with the use of logical operators and expressions like “greater than” (<span class="math inline">\(&gt;\)</span>), “less than” (<span class="math inline">\(&lt;\)</span>), “equal to” (<span class="math inline">\(=\)</span>), “greater than or equal to” (<span class="math inline">\(\ge\)</span>), and “less than or equal to” (<span class="math inline">\(\le\)</span>), but you may be less comfortable with the use of the logical “OR” and the logical “AND”. Thus, before we start working with data, let’s do a quick review.</p>
<p>When we wish to apply a single logical statement, our job is relatively straightforward. To keep things simple, let’s focus on a single vector, and we’ll call that vector <span class="math inline">\(X\)</span>. For example, we might choose to select only those cases with scores on <span class="math inline">\(X\)</span> that are “greater than or equal to” (<span class="math inline">\(\ge\)</span> or <span class="math inline">\(&gt;\)</span><span class="math inline">\(=\)</span>) 3, thereby retaining scores that are equal to or greater than 3, as highlighted in blue below. In other words, we select only those cases for which their score on <span class="math inline">\(X\)</span> would be true given the logical statement <span class="math inline">\(X \ge 3\)</span>.</p>
<div class="figure">
<img src="logical_greaterthanequalto.png" alt="" />
<p class="caption">The vector <span class="math inline">\(X\)</span> has seven possible scores, ranging from 1 to 7. If we apply the logical statement that <span class="math inline">\(X\)</span> is “greater than or equal to” (<span class="math inline">\(\ge\)</span>) 3, we select only those cases with scores that are equal to or greater than 3 and up to the maximum possible score of 7.</p>
</div>
<p>As another example, we might choose to select only those cases with scores on <span class="math inline">\(X\)</span> that are “less than or equal to” (<span class="math inline">\(\le\)</span> or <span class="math inline">\(&lt;\)</span><span class="math inline">\(=\)</span>) 5, thereby retaining scores that are equal to or less than 5, as highlighted in red below. In other words, we select only those cases for which their score on <span class="math inline">\(X\)</span> would be true given the logical statement <span class="math inline">\(X \le 5\)</span>.</p>
<div class="figure">
<img src="logical_lessthanequalto.png" alt="" />
<p class="caption">The vector <span class="math inline">\(X\)</span> has seven possible scores, ranging from 1 to 7. If we apply the logical statement that <span class="math inline">\(X\)</span> is “greater than or equal to” (<span class="math inline">\(\ge\)</span>) 3, we select only those cases with scores that are equal to or greater than 3 and down to the minimum possible score of 1.</p>
</div>
<p>If we apply the logical “OR” operator, things get a bit more interesting. The logical “OR” is used when our objective is to select cases based on two logical statements, and if <em>either</em> logical statement is true for a given case, then that case is selected. The logical “OR” is consistent with idea of a mathematical union (<span class="math inline">\(\cup\)</span>) from Set Theory. As an example, let’s combine the two logical statements from above with the logical “OR” operator. We retain those cases for which their score on <span class="math inline">\(X\)</span> is “greater than or equal to” 3 <strong>or</strong> “less than or equal to” 5. Given that <span class="math inline">\(X\)</span> has possible scores ranging from 1-7, below, we see that this logic retains all cases, as all scores (1-7) would satisfy one or both of the logical statements.</p>
<div class="figure">
<img src="logical_or.png" alt="" />
<p class="caption">The vector <span class="math inline">\(X\)</span> has seven possible scores, ranging from 1 to 7. If we wish to retain those cases for which X$ is “greater than or equal to” 3 <strong>or</strong> “less than or equal to” 5, we select those cases that satisfy either (or both) logical statements.</p>
</div>
<p>Using the same to logical statements above, let’s replace the logical “OR” with the logical “AND”. The logical “AND” is used when our objective is to select cases based on two logical statements, and if <em>both</em> logical statements are true for a given case, then that case is selected. The logical “AND” is consistent with idea of a mathematical intersection (<span class="math inline">\(\cap\)</span>) from Set Theory. In this example, we retain only those cases for which their score on <span class="math inline">\(X\)</span> is “greater than or equal to” 3 <strong>and</strong> “less than or equal to” 5. Given that <span class="math inline">\(X\)</span> has possible scores ranging from 1-7, below, we see that this logic retain only cases with scores within the range 3-5, as only scores of 3, 4, or 5 would satisfy both of the logical statements.</p>
<div class="figure">
<img src="logical_and.png" alt="" />
<p class="caption">The vector <span class="math inline">\(X\)</span> has seven possible scores, ranging from 1 to 7. If we wish to retain those cases for which X$ is “greater than or equal to” 3 <strong>and</strong> “less than or equal to” 5, we select only those cases that satisfy both logical statements.</p>
</div>
</div>
<div id="video-tutorial" class="section level4">
<h4><span class="header-section-number">10.0.0.2</span> Video Tutorial</h4>
<p>As usual, you have the choice to follow along with the written tutorial in this chapter or to watch the video tutorial below. Both versions of the tutorial will show you how to filter (subset) data with or without the pipe (<code>%&gt;%</code>) operator. If you’re unfamiliar with the pipe operator, no need to worry: I provide a brief explanation and demonstration regarding their purpose in both versions of the tutorial.</p>
<iframe src="https://youtube.com/embed/izVcbPmu0D0?rel=0" width="672" height="400px">
</iframe>
<p>Link to Video Tutorial: <a href="https://youtu.be/izVcbPmu0D0" class="uri">https://youtu.be/izVcbPmu0D0</a></p>
</div>
<div id="functions-packages-introduced" class="section level4">
<h4><span class="header-section-number">10.0.0.3</span> Functions &amp; Packages Introduced</h4>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Package</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>str</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="even">
<td><code>filter</code></td>
<td><code>dplyr</code></td>
</tr>
<tr class="odd">
<td><code>c</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="even">
<td><code>as.Date</code></td>
<td>base <code>R</code></td>
</tr>
<tr class="odd">
<td><code>select</code></td>
<td><code>dplyr</code></td>
</tr>
<tr class="even">
<td><code>subset</code></td>
<td>base <code>R</code></td>
</tr>
</tbody>
</table>
</div>
<div id="initsteps_filter" class="section level4">
<h4><span class="header-section-number">10.0.0.4</span> Initial Steps</h4>
<p>If you haven’t already, save the files called <strong>“PersData.csv”</strong> and <strong>“PerfData.csv”</strong> into a folder that you will subsequently set as your working directory. Your working directory will likely be different than the one shown below (i.e., <code>"H:/RWorkshop"</code>). As a reminder, you can access all of the data files referenced in this book by downloading them as a compressed (zipped) folder from the my GitHub site: <a href="https://github.com/davidcaughlin/R-Tutorial-Data-Files" class="uri">https://github.com/davidcaughlin/R-Tutorial-Data-Files</a>; once you’ve followed the link to GitHub, just click “Code” (or “Download”) followed by “Download ZIP”, which will download all of the data files referenced in this book. For the sake of parsimony, I recommend downloading all of the data files into the same folder on your computer, which will allow you to set that same folder as your working directory for each of the chapters in this book.</p>
<p>Next, using the <code>setwd</code> function, set your working directory to the folder in which you saved the data file for this chapter. Alternatively, you can manually set your working directory folder in your drop-down menus by going to <em>Session &gt; Set Working Directory &gt; Choose Directory…</em>. Be sure to create a new R script file (.R) or update an existing R script file so that you can save your script and annotations. If you need refreshers on how to set your working directory and how to create and save an R script, please refer to <a href="setwd.html#setwd">Setting a Working Directory</a> and <a href="gettingstarted.html#createRscript">Creating &amp; Saving an R Script</a>.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="filter.html#cb301-1"></a><span class="co"># Set your working directory</span></span>
<span id="cb301-2"><a href="filter.html#cb301-2"></a><span class="kw">setwd</span>(<span class="st">&quot;H:/RWorkshop&quot;</span>)</span></code></pre></div>
<p>Next, read in the .csv data files called <strong>“PersData.csv”</strong> and <strong>“PerfData.csv”</strong> using your choice of read function. In this example, I use the <code>read_csv</code> function from the <code>readr</code> package <span class="citation">(Wickham and Hester <a href="#ref-R-readr" role="doc-biblioref">2020</a>)</span>. If you choose to use the <code>read_csv</code> function, be sure that you have installed and accessed the <code>readr</code> package using the <code>install.packages</code> and <code>library</code> functions. <em>Note: You don’t need to install a package every time you wish to access it; in general, I would recommend updating a package installation once ever 1-3 months.</em> For refreshers on installing packages and reading data into R, please refer to <a href="gentleintro.html#packages">Packages</a> and <a href="read.html#read">Reading Data into R</a>.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="filter.html#cb302-1"></a><span class="co"># Install readr package if you haven&#39;t already</span></span>
<span id="cb302-2"><a href="filter.html#cb302-2"></a><span class="co"># [Note: You don&#39;t need to install a package every </span></span>
<span id="cb302-3"><a href="filter.html#cb302-3"></a><span class="co"># time you wish to access it]</span></span>
<span id="cb302-4"><a href="filter.html#cb302-4"></a><span class="kw">install.packages</span>(<span class="st">&quot;readr&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="filter.html#cb303-1"></a><span class="co"># Access readr package</span></span>
<span id="cb303-2"><a href="filter.html#cb303-2"></a><span class="kw">library</span>(readr)</span>
<span id="cb303-3"><a href="filter.html#cb303-3"></a></span>
<span id="cb303-4"><a href="filter.html#cb303-4"></a><span class="co"># Read data and name data frame (tibble) objects</span></span>
<span id="cb303-5"><a href="filter.html#cb303-5"></a>personaldata &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;PersData.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   id = col_double(),
##   lastname = col_character(),
##   firstname = col_character(),
##   startdate = col_character(),
##   gender = col_character()
## )</code></pre>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="filter.html#cb305-1"></a>performancedata &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;PerfData.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   id = col_double(),
##   perf_q1 = col_double(),
##   perf_q2 = col_double(),
##   perf_q3 = col_double(),
##   perf_q4 = col_double()
## )</code></pre>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="filter.html#cb307-1"></a><span class="co"># View the names of the variables in the data frame (tibble) objects</span></span>
<span id="cb307-2"><a href="filter.html#cb307-2"></a><span class="kw">names</span>(personaldata)</span></code></pre></div>
<pre><code>## [1] &quot;id&quot;        &quot;lastname&quot;  &quot;firstname&quot; &quot;startdate&quot; &quot;gender&quot;</code></pre>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="filter.html#cb309-1"></a><span class="kw">names</span>(performancedata)</span></code></pre></div>
<pre><code>## [1] &quot;id&quot;      &quot;perf_q1&quot; &quot;perf_q2&quot; &quot;perf_q3&quot; &quot;perf_q4&quot;</code></pre>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="filter.html#cb311-1"></a><span class="co"># View data frame (tibble) objects</span></span>
<span id="cb311-2"><a href="filter.html#cb311-2"></a>personaldata</span></code></pre></div>
<pre><code>## # A tibble: 9 x 5
##      id lastname   firstname startdate gender
##   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt; 
## 1   153 Sanchez    Alejandro 1/1/2016  male  
## 2   154 McDonald   Ronald    1/9/2016  male  
## 3   155 Smith      John      1/9/2016  male  
## 4   165 Doe        Jane      1/4/2016  female
## 5   125 Franklin   Benjamin  1/5/2016  male  
## 6   111 Newton     Isaac     1/9/2016  male  
## 7   198 Morales    Linda     1/7/2016  female
## 8   201 Providence Cindy     1/9/2016  female
## 9   282 Legend     John      1/9/2016  male</code></pre>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="filter.html#cb313-1"></a>performancedata</span></code></pre></div>
<pre><code>## # A tibble: 6 x 5
##      id perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   153     3.9     4.8     4.9     5  
## 2   125     2.1     1.9     2.1     2.3
## 3   111     3.3     3.3     3.4     3.3
## 4   198     4.9     4.5     4.4     4.8
## 5   201     1.2     1.1     1       1  
## 6   282     2.2     2.3     2.4     2.5</code></pre>
<p>As you can see from the output generated in your console, on the one hand, the <code>personaldata</code> data frame object contains basic employee demographic information. The variable names include: <code>id</code>, <code>lastname</code>, <code>firstname</code>, <code>startdate</code>, and <code>gender</code>. On the other hand, the <code>personaldata</code> data frame object contains the same <code>id</code> unique identifer variable as the <code>personaldata</code> data frame object, but instead of employee demographic information, this data frame object includes varuables associated with quarterly employee performance: <code>perf_q1</code>, <code>perf_q2</code>, <code>perf_q3</code>, and <code>perf_q4</code>.</p>
<p>To make this chapter more interesting (and for the sake of practice), let’s use the <code>full_join</code> function from <code>dplyr</code> to join (merge) the two data frames we just read in (<code>personaldata</code>, <code>performancedata</code>) using the <code>id</code> variable as the key variable. Let’s arbitrarily name the new joined (merged) data frame <code>mergeddf</code> using the <code>&lt;-</code> operator. For more information on joining data, check out the chapter called <a href="join.html#join">Joining (Merging) Data</a>.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="filter.html#cb315-1"></a><span class="co"># Install readr package if you haven&#39;t already</span></span>
<span id="cb315-2"><a href="filter.html#cb315-2"></a><span class="co"># [Note: You don&#39;t need to install a package every </span></span>
<span id="cb315-3"><a href="filter.html#cb315-3"></a><span class="co"># time you wish to access it]</span></span>
<span id="cb315-4"><a href="filter.html#cb315-4"></a><span class="kw">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="filter.html#cb316-1"></a><span class="co"># Access package</span></span>
<span id="cb316-2"><a href="filter.html#cb316-2"></a><span class="kw">library</span>(dplyr)</span></code></pre></div>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="filter.html#cb317-1"></a><span class="co"># Full join (without pipe)</span></span>
<span id="cb317-2"><a href="filter.html#cb317-2"></a>mergeddf &lt;-<span class="st"> </span><span class="kw">full_join</span>(personaldata, performancedata, <span class="dt">by=</span><span class="st">&quot;id&quot;</span>)</span>
<span id="cb317-3"><a href="filter.html#cb317-3"></a></span>
<span id="cb317-4"><a href="filter.html#cb317-4"></a><span class="co"># View joined (merged) data frame object</span></span>
<span id="cb317-5"><a href="filter.html#cb317-5"></a>mergeddf</span></code></pre></div>
<pre><code>## # A tibble: 9 x 9
##      id lastname   firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   153 Sanchez    Alejandro 1/1/2016  male       3.9     4.8     4.9     5  
## 2   154 McDonald   Ronald    1/9/2016  male      NA      NA      NA      NA  
## 3   155 Smith      John      1/9/2016  male      NA      NA      NA      NA  
## 4   165 Doe        Jane      1/4/2016  female    NA      NA      NA      NA  
## 5   125 Franklin   Benjamin  1/5/2016  male       2.1     1.9     2.1     2.3
## 6   111 Newton     Isaac     1/9/2016  male       3.3     3.3     3.4     3.3
## 7   198 Morales    Linda     1/7/2016  female     4.9     4.5     4.4     4.8
## 8   201 Providence Cindy     1/9/2016  female     1.2     1.1     1       1  
## 9   282 Legend     John      1/9/2016  male       2.2     2.3     2.4     2.5</code></pre>
<p>Now we have a joined data frame called <code>mergeddf</code>!</p>
</div>
<div id="filter-cases-from-data-frame" class="section level2">
<h2><span class="header-section-number">10.1</span> Filter Cases from Data Frame</h2>
<p>Sometimes we want to select only a subset of cases from a data frame or table. There are different functions that can achieve this end. For example, the <code>subset</code> function filter from base <code>R</code> will do the trick. With that said, the <code>dplyr</code> package offers the <code>filter</code> function which has some advantages (e.g., faster with larger amounts of data), and thus, we will focus on the <code>filter</code> function in this chapter. If you would like to learn how to use the <code>subset</code> function from base R, check out the chapter supplement called <a href="filter-supplement.html#filter_supplement">Joining (Merging) Data</a>.</p>
<p>In order to properly filter data by cases, we need to know the respective types (classes) of the variables in the data frame. Perhaps the quickest way to find out the type (class) of each variable in the data frame is to use the <code>str</code> (structure) function from base <code>R</code>, and the function’s parentheses, just enter the name of the data frame (<code>mergeddf</code>).</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="filter.html#cb319-1"></a><span class="co"># Determine class of variables</span></span>
<span id="cb319-2"><a href="filter.html#cb319-2"></a><span class="kw">str</span>(mergeddf)</span></code></pre></div>
<pre><code>## tibble [9 x 9] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ id       : num [1:9] 153 154 155 165 125 111 198 201 282
##  $ lastname : chr [1:9] &quot;Sanchez&quot; &quot;McDonald&quot; &quot;Smith&quot; &quot;Doe&quot; ...
##  $ firstname: chr [1:9] &quot;Alejandro&quot; &quot;Ronald&quot; &quot;John&quot; &quot;Jane&quot; ...
##  $ startdate: chr [1:9] &quot;1/1/2016&quot; &quot;1/9/2016&quot; &quot;1/9/2016&quot; &quot;1/4/2016&quot; ...
##  $ gender   : chr [1:9] &quot;male&quot; &quot;male&quot; &quot;male&quot; &quot;female&quot; ...
##  $ perf_q1  : num [1:9] 3.9 NA NA NA 2.1 3.3 4.9 1.2 2.2
##  $ perf_q2  : num [1:9] 4.8 NA NA NA 1.9 3.3 4.5 1.1 2.3
##  $ perf_q3  : num [1:9] 4.9 NA NA NA 2.1 3.4 4.4 1 2.4
##  $ perf_q4  : num [1:9] 5 NA NA NA 2.3 3.3 4.8 1 2.5
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   id = col_double(),
##   ..   lastname = col_character(),
##   ..   firstname = col_character(),
##   ..   startdate = col_character(),
##   ..   gender = col_character()
##   .. )</code></pre>
<p>Note that the <code>id</code> variable is of type integer; the <code>lastname</code>, <code>firstname</code>, <code>startdate</code>, and <code>gender</code> variables are of type character (string); and the <code>perf_q4</code>, <code>perf_q4</code>, <code>perf_q4</code>, and <code>perf_q4</code> variables are of type numeric. The variable type will have important implications for how use use the <code>filter</code> function from <code>dplyr</code>.</p>
<p>In <code>R</code>, we can apply any one of the following logical operators when filtering our data:</p>
<table>
<thead>
<tr class="header">
<th>Logical Operator</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;</code></td>
<td>“less than”</td>
</tr>
<tr class="even">
<td><code>&gt;</code></td>
<td>“greater than”</td>
</tr>
<tr class="odd">
<td><code>&lt;=</code></td>
<td>“less than or equal to”</td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>“greater than or equal to”</td>
</tr>
<tr class="odd">
<td><code>==</code></td>
<td>“equal to”</td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>“not equal to”</td>
</tr>
<tr class="odd">
<td><code>|</code></td>
<td>“or”</td>
</tr>
<tr class="even">
<td><code>&amp;</code></td>
<td>“and”</td>
</tr>
<tr class="odd">
<td><code>!</code></td>
<td>“not”</td>
</tr>
</tbody>
</table>
<p>To get started, install and access the <code>dplyr</code> package.</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="filter.html#cb321-1"></a><span class="co"># Install package</span></span>
<span id="cb321-2"><a href="filter.html#cb321-2"></a><span class="kw">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="filter.html#cb322-1"></a><span class="co"># Access package</span></span>
<span id="cb322-2"><a href="filter.html#cb322-2"></a><span class="kw">library</span>(dplyr)</span></code></pre></div>
<p>I will demonstrate two approaches applying the <code>filter</code> function from <code>dplyr</code>. The first option uses “pipe(s),” which in R is represented by the <code>%&gt;%</code> operator. The pipe operator comes from a package called <code>magrittr</code>, on which the <code>dplyr</code> is partially dependent. In short, a pipe allows one to more efficiently code/script and to improve the readability of the code/script under certain conditions. Specifically, a <strong>pipe</strong> forwards the result or value of one object or expression to a subsequent function. In doing so, one can avoid writing functions in which other functions are nested parenthetically. The second option is more traditional and lacks the efficiency and readability of pipes. You can use either approach, and if don’t you want to use pipes, skip to the section below called <em>Filter Data without Pipes</em>. For more information on the pipe operator, check out this link: <a href="https://r4ds.had.co.nz/pipes.html" class="uri">https://r4ds.had.co.nz/pipes.html</a>.</p>
<div id="with-pipes" class="section level3">
<h3><span class="header-section-number">10.1.1</span> <em>With</em> Pipes</h3>
<p>Using an approach with pipes, first, use the <code>&lt;-</code> operator to name the filtered data frame that we will create. For this example, I name the new joined data frame <code>filterdf</code>; you could name it whatever you would like. Second, type the name of the first data frame, which we named <code>mergeddf</code> (see above), followed by the pipe (<code>%&gt;%</code>) operator. This will “pipe” our data frame into the subsequent function. Third, either on the same line or on the next line, type the <code>filter</code> function. Fourth, within the function parentheses, type the name of the variable we wish to filter the data frame by, which in this example is <code>gender</code>. Fourth, type a logical operator, which for this example is <code>==</code>. Fifth, type a value for the filter variable, which in this example is “female”; because the <code>gender</code> variable is of type <em>character</em>, we need to put quotation marks (<code>" "</code>) around the value of the variable that we wish to filter by. Remember, object names in R are case and space sensitive; for instance, <code>gender</code> is different from <code>Gender</code>, and “female” is different from “Female”.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="filter.html#cb323-1"></a><span class="co"># Filter in by gender with pipe</span></span>
<span id="cb323-2"><a href="filter.html#cb323-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(gender<span class="op">==</span><span class="st">&quot;female&quot;</span>)</span>
<span id="cb323-3"><a href="filter.html#cb323-3"></a></span>
<span id="cb323-4"><a href="filter.html#cb323-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb323-5"><a href="filter.html#cb323-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 3 x 9
##      id lastname   firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   165 Doe        Jane      1/4/2016  female    NA      NA      NA      NA  
## 2   198 Morales    Linda     1/7/2016  female     4.9     4.5     4.4     4.8
## 3   201 Providence Cindy     1/9/2016  female     1.2     1.1     1       1</code></pre>
<p>Note how the data frame above contains only those cases with “female” as their <code>gender</code> variable designation. The filter worked as expected.</p>
<p>Alternatively, we could filter <em>out</em> those cases in which <code>gender</code> is equal to “female” using the <code>!=</code> (not equal to) logical operator.</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="filter.html#cb325-1"></a><span class="co"># Filter out by gender with pipe</span></span>
<span id="cb325-2"><a href="filter.html#cb325-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(gender<span class="op">!=</span><span class="st">&quot;female&quot;</span>)</span>
<span id="cb325-3"><a href="filter.html#cb325-3"></a></span>
<span id="cb325-4"><a href="filter.html#cb325-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb325-5"><a href="filter.html#cb325-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##      id lastname firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   153 Sanchez  Alejandro 1/1/2016  male       3.9     4.8     4.9     5  
## 2   154 McDonald Ronald    1/9/2016  male      NA      NA      NA      NA  
## 3   155 Smith    John      1/9/2016  male      NA      NA      NA      NA  
## 4   125 Franklin Benjamin  1/5/2016  male       2.1     1.9     2.1     2.3
## 5   111 Newton   Isaac     1/9/2016  male       3.3     3.3     3.4     3.3
## 6   282 Legend   John      1/9/2016  male       2.2     2.3     2.4     2.5</code></pre>
<p>Note how cases with <code>gender</code> equal to “female” are no longer in the data frame, while every other case is retained.</p>
<p>Let’s now filter by a variable of type numeric (or integer). Specifically, let’s select those cases in which the <code>perf_q2</code> variable is greater than (<code>&gt;</code>) 4.0. Because the <code>perf_q2</code> variable is of type <em>numeric</em>, we don’t use quotation marks (<code>" "</code>) around the value we wish to filter by, which in this case is 4.0.</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="filter.html#cb327-1"></a><span class="co"># Filter by perf_q2 with pipe</span></span>
<span id="cb327-2"><a href="filter.html#cb327-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(perf_q2<span class="op">&gt;</span><span class="fl">4.0</span>)</span>
<span id="cb327-3"><a href="filter.html#cb327-3"></a></span>
<span id="cb327-4"><a href="filter.html#cb327-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb327-5"><a href="filter.html#cb327-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 2 x 9
##      id lastname firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   153 Sanchez  Alejandro 1/1/2016  male       3.9     4.8     4.9     5  
## 2   198 Morales  Linda     1/7/2016  female     4.9     4.5     4.4     4.8</code></pre>
<p>If we wish to filter by two variables, we can apply the logical “or” (<code>|</code>) operator or “and” (<code>&amp;</code>) operator. First, let’s select those cases in which either <code>gender</code> is equal to “female” or <code>perf_q2</code> is greater than 4.0 using the “or” (<code>|</code>) operator.</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="filter.html#cb329-1"></a><span class="co"># Filter by gender or perf_q2 with pipe</span></span>
<span id="cb329-2"><a href="filter.html#cb329-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(gender<span class="op">==</span><span class="st">&quot;female&quot;</span> <span class="op">|</span><span class="st"> </span>perf_q2<span class="op">&gt;</span><span class="fl">4.0</span>)</span>
<span id="cb329-3"><a href="filter.html#cb329-3"></a></span>
<span id="cb329-4"><a href="filter.html#cb329-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb329-5"><a href="filter.html#cb329-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 4 x 9
##      id lastname   firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   153 Sanchez    Alejandro 1/1/2016  male       3.9     4.8     4.9     5  
## 2   165 Doe        Jane      1/4/2016  female    NA      NA      NA      NA  
## 3   198 Morales    Linda     1/7/2016  female     4.9     4.5     4.4     4.8
## 4   201 Providence Cindy     1/9/2016  female     1.2     1.1     1       1</code></pre>
<p>Watch what happens if we apply the logical “and” (<code>&amp;</code>) operator with the same syntax as above.</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="filter.html#cb331-1"></a><span class="co"># Filter by gender and perf_q2 with pipe</span></span>
<span id="cb331-2"><a href="filter.html#cb331-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(gender<span class="op">==</span><span class="st">&quot;female&quot;</span> <span class="op">&amp;</span><span class="st"> </span>perf_q2<span class="op">&gt;</span><span class="fl">4.0</span>)</span>
<span id="cb331-3"><a href="filter.html#cb331-3"></a></span>
<span id="cb331-4"><a href="filter.html#cb331-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb331-5"><a href="filter.html#cb331-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 1 x 9
##      id lastname firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   198 Morales  Linda     1/7/2016  female     4.9     4.5     4.4     4.8</code></pre>
<p>We can also use the logical “or” (<code>|</code>) operator to select two values of the same variable.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="filter.html#cb333-1"></a><span class="co"># Filter by two values of firstname with pipe</span></span>
<span id="cb333-2"><a href="filter.html#cb333-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(firstname<span class="op">==</span><span class="st">&quot;John&quot;</span> <span class="op">|</span><span class="st"> </span>firstname<span class="op">==</span><span class="st">&quot;Jane&quot;</span>)</span>
<span id="cb333-3"><a href="filter.html#cb333-3"></a></span>
<span id="cb333-4"><a href="filter.html#cb333-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb333-5"><a href="filter.html#cb333-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 3 x 9
##      id lastname firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   155 Smith    John      1/9/2016  male      NA      NA      NA      NA  
## 2   165 Doe      Jane      1/4/2016  female    NA      NA      NA      NA  
## 3   282 Legend   John      1/9/2016  male       2.2     2.3     2.4     2.5</code></pre>
<p>Or we can select two ranges of values from the same variable using the logical “or” (<code>|</code>) operator, assuming the variable is of type numeric, integer, or date.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="filter.html#cb335-1"></a><span class="co"># Filter by two ranges of values of perf_q1 with pipe</span></span>
<span id="cb335-2"><a href="filter.html#cb335-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(perf_q1<span class="op">&lt;=</span><span class="fl">2.5</span> <span class="op">|</span><span class="st"> </span>perf_q1<span class="op">&gt;=</span><span class="fl">4.0</span>)</span>
<span id="cb335-3"><a href="filter.html#cb335-3"></a></span>
<span id="cb335-4"><a href="filter.html#cb335-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb335-5"><a href="filter.html#cb335-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 4 x 9
##      id lastname   firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   125 Franklin   Benjamin  1/5/2016  male       2.1     1.9     2.1     2.3
## 2   198 Morales    Linda     1/7/2016  female     4.9     4.5     4.4     4.8
## 3   201 Providence Cindy     1/9/2016  female     1.2     1.1     1       1  
## 4   282 Legend     John      1/9/2016  male       2.2     2.3     2.4     2.5</code></pre>
<p>The <code>filter</code> function can also be used to remove multiple specific cases (such as from a unique identifier variable), which might be useful when you’ve identified outliers that need to be removed. As a first step, identify a vector of values that need to be removed. In this example, let’s pretend that cases with <code>id</code> variable values of 198 and 201 no longer work for this company, so they should be removed from the sample. To create a vector of these two values, use the <code>c</code> function like this: <code>c(198,201)</code>. Next, because you are now filtering by a vector, you will need to use the <code>%in%</code> operator, which is an operator that instructs R to go through each value of the filter variable (<code>id</code>) and identify instances of 198 and 201 (<code>c(198,201)</code>); if the values match, then those cases are retained. However, because we entered <code>!</code> in front of the filter variable, this actually reverses our logic and instructs R to <em>remove</em> those cases in which a value of the filter variable matches a value contained in the vector.</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="filter.html#cb337-1"></a><span class="co"># Filter out id of 198 and 201 with pipe</span></span>
<span id="cb337-2"><a href="filter.html#cb337-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="op">!</span>id <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">198</span>,<span class="dv">201</span>))</span>
<span id="cb337-3"><a href="filter.html#cb337-3"></a></span>
<span id="cb337-4"><a href="filter.html#cb337-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb337-5"><a href="filter.html#cb337-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 7 x 9
##      id lastname firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   153 Sanchez  Alejandro 1/1/2016  male       3.9     4.8     4.9     5  
## 2   154 McDonald Ronald    1/9/2016  male      NA      NA      NA      NA  
## 3   155 Smith    John      1/9/2016  male      NA      NA      NA      NA  
## 4   165 Doe      Jane      1/4/2016  female    NA      NA      NA      NA  
## 5   125 Franklin Benjamin  1/5/2016  male       2.1     1.9     2.1     2.3
## 6   111 Newton   Isaac     1/9/2016  male       3.3     3.3     3.4     3.3
## 7   282 Legend   John      1/9/2016  male       2.2     2.3     2.4     2.5</code></pre>
<p>Note that in the output above cases with <code>id</code> variable values equal to 198 and 201 are no longer present.</p>
<p>If you remove the <code>!</code> in front of the filter variable, only cases <code>198</code> and <code>201</code> are retained.</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="filter.html#cb339-1"></a><span class="co"># Filter in id of 198 and 201 with pipe</span></span>
<span id="cb339-2"><a href="filter.html#cb339-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(id <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">198</span>,<span class="dv">201</span>))</span>
<span id="cb339-3"><a href="filter.html#cb339-3"></a></span>
<span id="cb339-4"><a href="filter.html#cb339-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb339-5"><a href="filter.html#cb339-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 2 x 9
##      id lastname   firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   198 Morales    Linda     1/7/2016  female     4.9     4.5     4.4     4.8
## 2   201 Providence Cindy     1/9/2016  female     1.2     1.1     1       1</code></pre>
<p>And if you wanted to remove just a single case, you could use the unique identifier variable (<code>id</code>) and the following script/code.</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="filter.html#cb341-1"></a><span class="co"># Filter out id of 198 with pipe</span></span>
<span id="cb341-2"><a href="filter.html#cb341-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(id<span class="op">!=</span><span class="dv">198</span>)</span>
<span id="cb341-3"><a href="filter.html#cb341-3"></a></span>
<span id="cb341-4"><a href="filter.html#cb341-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb341-5"><a href="filter.html#cb341-5"></a>filterdf</span></code></pre></div>
<pre><code>## # A tibble: 8 x 9
##      id lastname   firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4
##   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1   153 Sanchez    Alejandro 1/1/2016  male       3.9     4.8     4.9     5  
## 2   154 McDonald   Ronald    1/9/2016  male      NA      NA      NA      NA  
## 3   155 Smith      John      1/9/2016  male      NA      NA      NA      NA  
## 4   165 Doe        Jane      1/4/2016  female    NA      NA      NA      NA  
## 5   125 Franklin   Benjamin  1/5/2016  male       2.1     1.9     2.1     2.3
## 6   111 Newton     Isaac     1/9/2016  male       3.3     3.3     3.4     3.3
## 7   201 Providence Cindy     1/9/2016  female     1.2     1.1     1       1  
## 8   282 Legend     John      1/9/2016  male       2.2     2.3     2.4     2.5</code></pre>
<p>When working with variables of type <em>Date</em>, things can get a bit trickier. When we applied the <code>str</code> function from base R (see above), we found that the <code>startdate</code> variable was read in and joined as a character variable as opposed to a date variable. As such, we need to convert the <code>startdate</code> variable using the <code>as.Date</code> function from base R. First, type the name of the data frame object (<code>mergeddf</code>), followed by the <code>$</code> operator and the name of whatever you want to call the new variable (<code>startdate2</code>); remember, the <code>$</code> operator tells R that a variable belongs to (or will belong to) a particular data frame. Second, type the <code>&lt;-</code> operator. Third, type the name of the <code>as.Date</code> function. Fourth, in the function parentheses, as the first argument, enter the <code>as.character</code> function with the name of the data frame object (<code>mergeddf</code>), followed by the <code>$</code> operator and the name the original variable (<code>startdate</code>) as the sole argument. Fifth, as the second argument in the <code>as.Date</code> function, type <code>format="%m/%d/%Y"</code> to indicate the format for the data variable; note that the capital <code>Y</code> in <code>%Y</code> implies a 4-digit year, whereas a lower case would imply a 2-digit year.</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="filter.html#cb343-1"></a><span class="co"># Convert character startdate variable to the Date type startdate2 variable</span></span>
<span id="cb343-2"><a href="filter.html#cb343-2"></a>mergeddf<span class="op">$</span>startdate2 &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">as.character</span>(mergeddf<span class="op">$</span>startdate), <span class="dt">format=</span><span class="st">&quot;%m/%d/%Y&quot;</span>)</span></code></pre></div>
<p>To verify that the new <code>startdate2</code> variable is of type date, use the <code>str</code> function from base R, and enter the name of the data frame object (<code>mergeddf</code>) as the sole argument. As you will see, the new <code>startdate2</code> variable is now of type <em>Date</em>.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="filter.html#cb344-1"></a><span class="co"># Verify that the startdate2 variable is now a variable of type Date</span></span>
<span id="cb344-2"><a href="filter.html#cb344-2"></a><span class="kw">str</span>(mergeddf)</span></code></pre></div>
<pre><code>## tibble [9 x 10] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ id        : num [1:9] 153 154 155 165 125 111 198 201 282
##  $ lastname  : chr [1:9] &quot;Sanchez&quot; &quot;McDonald&quot; &quot;Smith&quot; &quot;Doe&quot; ...
##  $ firstname : chr [1:9] &quot;Alejandro&quot; &quot;Ronald&quot; &quot;John&quot; &quot;Jane&quot; ...
##  $ startdate : chr [1:9] &quot;1/1/2016&quot; &quot;1/9/2016&quot; &quot;1/9/2016&quot; &quot;1/4/2016&quot; ...
##  $ gender    : chr [1:9] &quot;male&quot; &quot;male&quot; &quot;male&quot; &quot;female&quot; ...
##  $ perf_q1   : num [1:9] 3.9 NA NA NA 2.1 3.3 4.9 1.2 2.2
##  $ perf_q2   : num [1:9] 4.8 NA NA NA 1.9 3.3 4.5 1.1 2.3
##  $ perf_q3   : num [1:9] 4.9 NA NA NA 2.1 3.4 4.4 1 2.4
##  $ perf_q4   : num [1:9] 5 NA NA NA 2.3 3.3 4.8 1 2.5
##  $ startdate2: Date[1:9], format: &quot;2016-01-01&quot; &quot;2016-01-09&quot; &quot;2016-01-09&quot; &quot;2016-01-04&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   id = col_double(),
##   ..   lastname = col_character(),
##   ..   firstname = col_character(),
##   ..   startdate = col_character(),
##   ..   gender = col_character()
##   .. )</code></pre>
<p>Now we are ready to filter using the new <code>startdate2</code> variable. When specify the value of the <code>startdate2</code> variable by which you wish to filter by, make sure to use the <code>as.Date</code> function once more with the date (formatted as YYYY-MM-DD) in quotation marks (<code>" "</code>) as the sole argument. Here, I filter for those cases in which their <code>startdate2</code> values are greater than 2016-01-07.</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="filter.html#cb346-1"></a><span class="co"># Filter by startdate2 with pipe</span></span>
<span id="cb346-2"><a href="filter.html#cb346-2"></a>filterdf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(startdate2 <span class="op">&gt;</span><span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2016-01-07&quot;</span>))</span>
<span id="cb346-3"><a href="filter.html#cb346-3"></a></span>
<span id="cb346-4"><a href="filter.html#cb346-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb346-5"><a href="filter.html#cb346-5"></a><span class="kw">print</span>(filterdf)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 10
##      id lastname   firstname startdate gender perf_q1 perf_q2 perf_q3 perf_q4 startdate2
##   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;date&gt;    
## 1   154 McDonald   Ronald    1/9/2016  male      NA      NA      NA      NA   2016-01-09
## 2   155 Smith      John      1/9/2016  male      NA      NA      NA      NA   2016-01-09
## 3   111 Newton     Isaac     1/9/2016  male       3.3     3.3     3.4     3.3 2016-01-09
## 4   201 Providence Cindy     1/9/2016  female     1.2     1.1     1       1   2016-01-09
## 5   282 Legend     John      1/9/2016  male       2.2     2.3     2.4     2.5 2016-01-09</code></pre>
</div>
<div id="without-pipes" class="section level3">
<h3><span class="header-section-number">10.1.2</span> <em>Without</em> Pipes</h3>
<p>We can also filter using the <code>filter</code> function from the <code>dplyr</code> package without using the pipe (<code>%&gt;%</code>) operator. Note how I simply move the name of the data frame object from before the pipe (<code>%&gt;%</code>) operator to the first argument in the <code>filter</code> function. Everything else remains the same. For simplicity, I don’t display the output below as it is the same as the output as above using pipes. <em>Your decision whether to use a pipe operator is completely up to you.</em></p>
<p>Let’s filter the <code>mergeddf</code> data frame object such that only those cases for which the <code>gender</code> variable is equal to “female” are retained. Note how we apply the equal to (<code>==</code>) logical operator. A table of logical operators is presented towards the beginning of this tutorial.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="filter.html#cb348-1"></a><span class="co"># Filter in by gender without pipe</span></span>
<span id="cb348-2"><a href="filter.html#cb348-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, gender<span class="op">==</span><span class="st">&quot;female&quot;</span>)</span>
<span id="cb348-3"><a href="filter.html#cb348-3"></a></span>
<span id="cb348-4"><a href="filter.html#cb348-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb348-5"><a href="filter.html#cb348-5"></a>filterdf</span></code></pre></div>
<p>Now let’s filter <em>out</em> those cases in which <code>gender</code> is <em>not</em> equal to “female”. We apply the not equal to (<code>!=</code>) logical operator to do so.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="filter.html#cb349-1"></a><span class="co"># Filter in by gender without pipe</span></span>
<span id="cb349-2"><a href="filter.html#cb349-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, gender<span class="op">!=</span><span class="st">&quot;female&quot;</span>)</span>
<span id="cb349-3"><a href="filter.html#cb349-3"></a></span>
<span id="cb349-4"><a href="filter.html#cb349-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb349-5"><a href="filter.html#cb349-5"></a>filterdf</span></code></pre></div>
<p>Filter the data frame such that we retain those cases for which the <code>perf_q2</code> variable is greater than (<code>&gt;</code>) 4.0. Because the <code>perf_q2</code> variable is numeric, we <em>don’t</em> put the value 4.0 in quotation marks.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="filter.html#cb350-1"></a><span class="co"># Filter by perf_q2 without pipe</span></span>
<span id="cb350-2"><a href="filter.html#cb350-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, perf_q2<span class="op">&gt;</span><span class="fl">4.0</span>)</span>
<span id="cb350-3"><a href="filter.html#cb350-3"></a></span>
<span id="cb350-4"><a href="filter.html#cb350-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb350-5"><a href="filter.html#cb350-5"></a>filterdf</span></code></pre></div>
<p>Using the logical “or” operator (<code>|</code>), select those cases for which <code>gender</code> is equal to “female” <em>or</em> for which <code>perf_q2</code> is greater than 4.0.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="filter.html#cb351-1"></a><span class="co"># Filter by gender or perf_q2 without pipe</span></span>
<span id="cb351-2"><a href="filter.html#cb351-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, gender<span class="op">==</span><span class="st">&quot;female&quot;</span> <span class="op">|</span><span class="st"> </span>perf_q2<span class="op">&gt;</span><span class="fl">4.0</span>)</span>
<span id="cb351-3"><a href="filter.html#cb351-3"></a></span>
<span id="cb351-4"><a href="filter.html#cb351-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb351-5"><a href="filter.html#cb351-5"></a>filterdf</span></code></pre></div>
<p>Using the logical “and” operator (<code>&amp;</code>), select those cases for which <code>gender</code> is equal to “female” <em>and</em> for which <code>perf_q2</code> is greater than 4.0. Note the difference in the resulting filtered data frame.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="filter.html#cb352-1"></a><span class="co"># Filter by gender and perf_q2 without pipe</span></span>
<span id="cb352-2"><a href="filter.html#cb352-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, gender<span class="op">==</span><span class="st">&quot;female&quot;</span> <span class="op">&amp;</span><span class="st"> </span>perf_q2<span class="op">&gt;</span><span class="fl">4.0</span>)</span>
<span id="cb352-3"><a href="filter.html#cb352-3"></a></span>
<span id="cb352-4"><a href="filter.html#cb352-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb352-5"><a href="filter.html#cb352-5"></a>filterdf</span></code></pre></div>
<p>Using the logical “or” operator (<code>|</code>), select those cases for which <code>firstname</code> is equal to “John” <em>or</em> for which <code>firstname</code> is equal to “Jane”. In other words, select those individuals whose names are either “John” or “Jane”.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="filter.html#cb353-1"></a><span class="co"># Filter by two values of firstname without pipe</span></span>
<span id="cb353-2"><a href="filter.html#cb353-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, firstname<span class="op">==</span><span class="st">&quot;John&quot;</span> <span class="op">|</span><span class="st"> </span>firstname<span class="op">==</span><span class="st">&quot;Jane&quot;</span>)</span>
<span id="cb353-3"><a href="filter.html#cb353-3"></a></span>
<span id="cb353-4"><a href="filter.html#cb353-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb353-5"><a href="filter.html#cb353-5"></a>filterdf</span></code></pre></div>
<p>Using the logical “or” operator (<code>|</code>), select the range of cases for which <code>perf_q1</code> is less than equal to (<code>&lt;=</code>) 2.5 <em>or</em> for which <code>perf_q1</code> is greater than or equal (<code>&gt;=</code>) to 4.0.</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="filter.html#cb354-1"></a><span class="co"># Filter by two ranges of values of perf_q1 without pipe</span></span>
<span id="cb354-2"><a href="filter.html#cb354-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, perf_q1<span class="op">&lt;=</span><span class="fl">2.5</span> <span class="op">|</span><span class="st"> </span>perf_q1<span class="op">&gt;=</span><span class="fl">4.0</span>)</span>
<span id="cb354-3"><a href="filter.html#cb354-3"></a></span>
<span id="cb354-4"><a href="filter.html#cb354-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb354-5"><a href="filter.html#cb354-5"></a>filterdf</span></code></pre></div>
<p>The <code>filter</code> function can also be used to remove multiple specific cases (such as from a unique identifier variable), which might be useful when you’ve identified outliers that need to be removed. As a first step, identify a vector of values that need to be removed. In this example, let’s pretend that cases with <code>id</code> variable values of 198 and 201 no longer work for this company, so they should be removed from the sample. To create a vector of these two values, use the <code>c</code> function like this: <code>c(198,201)</code>. Next, because you are now filtering by a vector, you will need to use the <code>%in%</code> operator, which is an operator that instructs R to go through each value of the filter variable (<code>id</code>) and identify instances of 198 and 201 (<code>c(198,201)</code>); if the values match, then those cases are retained. However, because we entered <code>!</code> in front of the filter variable, this actually reverses our logic and instructs R to <em>remove</em> those cases in which a value of the filter variable matches a value contained in the vector.</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="filter.html#cb355-1"></a><span class="co"># Filter out id of 198 and 201 without pipe</span></span>
<span id="cb355-2"><a href="filter.html#cb355-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, <span class="op">!</span>id <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">198</span>,<span class="dv">201</span>))</span>
<span id="cb355-3"><a href="filter.html#cb355-3"></a></span>
<span id="cb355-4"><a href="filter.html#cb355-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb355-5"><a href="filter.html#cb355-5"></a>filterdf</span></code></pre></div>
<p>Or if you wish to retain only those cases for which the <code>id</code> variable is equal to 198 and 201, drop the not operator (<code>!</code>) from the previous script.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="filter.html#cb356-1"></a><span class="co"># Filter in id of 198 and 201 without pipe</span></span>
<span id="cb356-2"><a href="filter.html#cb356-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, id <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">198</span>,<span class="dv">201</span>))</span>
<span id="cb356-3"><a href="filter.html#cb356-3"></a></span>
<span id="cb356-4"><a href="filter.html#cb356-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb356-5"><a href="filter.html#cb356-5"></a>filterdf</span></code></pre></div>
<p>You can also drop specific cases one by one using the not equal to operator (<code>!=</code>) and the a unique identifier value associated with the case you wish to remove. We accomplish the same result as above but use two steps instead. Also, note that in the second step below, the new data frame object (<code>filterdf</code>) is used as the first argument because we want to retain the changes we made in the prior step (i.e., dropping case with <code>id</code> equal to 198).</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="filter.html#cb357-1"></a><span class="co"># Filter in id of 198 without pipe</span></span>
<span id="cb357-2"><a href="filter.html#cb357-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, id<span class="op">!=</span><span class="dv">198</span>)</span>
<span id="cb357-3"><a href="filter.html#cb357-3"></a></span>
<span id="cb357-4"><a href="filter.html#cb357-4"></a><span class="co"># Filter in id of 201 without pipe</span></span>
<span id="cb357-5"><a href="filter.html#cb357-5"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(filterdf, id<span class="op">!=</span><span class="dv">201</span>)</span>
<span id="cb357-6"><a href="filter.html#cb357-6"></a></span>
<span id="cb357-7"><a href="filter.html#cb357-7"></a><span class="co"># View filtered data frame</span></span>
<span id="cb357-8"><a href="filter.html#cb357-8"></a>filterdf</span></code></pre></div>
<p>When working with variables of type <em>Date</em>, things can get a bit trickier. When we applied the <code>str</code> function from base R (see above), we found that the <code>startdate</code> variable was read in and joined as a character variable as opposed to a date variable. As such, we need to convert the <code>startdate</code> variable using the <code>as.Date</code> function from base R. First, type the name of the data frame object (<code>mergeddf</code>), followed by the <code>$</code> operator and the name of whatever you want to call the new variable (<code>startdate2</code>); remember, the <code>$</code> operator tells R that a variable belongs to (or will belong to) a particular data frame. Second, type the <code>&lt;-</code> operator. Third, type the name of the <code>as.Date</code> function. Fourth, in the function parentheses, as the first argument, enter the <code>as.character</code> function with the name of the data frame object (<code>mergeddf</code>), followed by the <code>$</code> operator and the name the original variable (<code>startdate</code>) as the sole argument. Fifth, as the second argument in the <code>as.Date</code> function, type <code>format="%m/%d/%Y"</code> to indicate the format for the data variable; note that the capital <code>Y</code> in <code>%Y</code> implies a 4-digit year, whereas a lower case would imply a 2-digit year. To verify that the new <code>startdate2</code> variable is of type date, on the next line, use the <code>str</code> function from base R, and enter the name of the data frame object (<code>mergeddf</code>) as the sole argument. As you will see, the new <code>startdate2</code> variable is now of type <em>Date</em>.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="filter.html#cb358-1"></a><span class="co"># Convert character startdate variable to the date type startdate2 variable</span></span>
<span id="cb358-2"><a href="filter.html#cb358-2"></a>mergeddf<span class="op">$</span>startdate2 &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">as.character</span>(mergeddf<span class="op">$</span>startdate), <span class="dt">format=</span><span class="st">&quot;%m/%d/%Y&quot;</span>)</span>
<span id="cb358-3"><a href="filter.html#cb358-3"></a></span>
<span id="cb358-4"><a href="filter.html#cb358-4"></a><span class="co"># Verify that the startdate2 variable is now a variable of type date</span></span>
<span id="cb358-5"><a href="filter.html#cb358-5"></a><span class="kw">str</span>(mergeddf)</span></code></pre></div>
<p>Now we are ready to filter using the new <code>startdate2</code> variable. When specify the value of the <code>startdate2</code> variable by which you wish to filter by, make sure to use the <code>as.Date</code> function once more with the date (formatted as YYYY-MM-DD) in quotation marks (<code>" "</code>) as the sole argument. Here, I filter for those cases in which their <code>startdate2</code> values are greater than 2016-01-07.</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="filter.html#cb359-1"></a><span class="co"># Filter by startdate2 without pipe</span></span>
<span id="cb359-2"><a href="filter.html#cb359-2"></a>filterdf &lt;-<span class="st"> </span><span class="kw">filter</span>(mergeddf, startdate2 <span class="op">&gt;</span><span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2016-01-07&quot;</span>))</span>
<span id="cb359-3"><a href="filter.html#cb359-3"></a></span>
<span id="cb359-4"><a href="filter.html#cb359-4"></a><span class="co"># View filtered data frame</span></span>
<span id="cb359-5"><a href="filter.html#cb359-5"></a><span class="kw">print</span>(filterdf)</span></code></pre></div>
</div>
</div>
<div id="remove-single-variable-from-data-frame" class="section level2">
<h2><span class="header-section-number">10.2</span> Remove Single Variable from Data Frame</h2>
<p>If you just need to remove a single variable from a data frame, using the <code>NULL</code> object in R in conjunction with the <code>&lt;-</code> operator can designate which variable to drop. For example, if we wish to drop the <code>startdate</code> variable from the <code>mergeddf</code> data frame, we simply note that <code>startdate</code> belongs to <code>mergeddf</code> by joining them with <code>$</code>. Next, we set <code>&lt;- NULL</code> adjacent to <code>mergeddf$startdate</code> to indicate that we wish to remove that variable from that data frame.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="filter.html#cb360-1"></a><span class="co"># Remove variable</span></span>
<span id="cb360-2"><a href="filter.html#cb360-2"></a>mergeddf<span class="op">$</span>startdate &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb360-3"><a href="filter.html#cb360-3"></a></span>
<span id="cb360-4"><a href="filter.html#cb360-4"></a><span class="co"># View updated data frame</span></span>
<span id="cb360-5"><a href="filter.html#cb360-5"></a>mergeddf</span></code></pre></div>
<pre><code>## # A tibble: 9 x 9
##      id lastname   firstname gender perf_q1 perf_q2 perf_q3 perf_q4 startdate2
##   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;date&gt;    
## 1   153 Sanchez    Alejandro male       3.9     4.8     4.9     5   2016-01-01
## 2   154 McDonald   Ronald    male      NA      NA      NA      NA   2016-01-09
## 3   155 Smith      John      male      NA      NA      NA      NA   2016-01-09
## 4   165 Doe        Jane      female    NA      NA      NA      NA   2016-01-04
## 5   125 Franklin   Benjamin  male       2.1     1.9     2.1     2.3 2016-01-05
## 6   111 Newton     Isaac     male       3.3     3.3     3.4     3.3 2016-01-09
## 7   198 Morales    Linda     female     4.9     4.5     4.4     4.8 2016-01-07
## 8   201 Providence Cindy     female     1.2     1.1     1       1   2016-01-09
## 9   282 Legend     John      male       2.2     2.3     2.4     2.5 2016-01-09</code></pre>
</div>
<div id="select-multiple-variables-from-data-frame" class="section level2">
<h2><span class="header-section-number">10.3</span> Select Multiple Variables from Data Frame</h2>
<p>If you wish to <em>select multiple variables</em> from a data frame (and remove all others), the <code>select</code> function from the <code>dplyr</code> package is quite useful and intuitive. Below, I demonstrate how to select multiple variables with and without pipes. If you don’t want to use pipes, feel free to skip down to the section called <em>Without Pipes</em>.</p>
<div id="with-pipe" class="section level3">
<h3><span class="header-section-number">10.3.1</span> <em>With</em> Pipe</h3>
<p>Using the pipe (<code>%&gt;%</code>) operator, first, decide whether you want to override an existing data frame or create a new data frame based on our selection; here, I override the <code>mergeddf</code> data frame using the <code>&lt;-</code> operator, which results in <code>mergeddf &lt;-</code>. Second, type the name of the original data frame (<code>mergeddf</code>), followed by the pipe (<code>%&gt;%</code>) operator. Third, type the name of the <code>select</code> function. Fourth, in the parentheses, list the names of the variables you wish to select as arguments; all variables that are not listed will be dropped. Here, we are selecting (to retain) the <code>id</code>, <code>perf_q1</code>, <code>gender</code>, <code>lastname</code>, and <code>firstname</code> variables. Note that the updated date frame includes the selected variables in the order in which you listed them.</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="filter.html#cb362-1"></a><span class="co"># Select multiple variables with pipe</span></span>
<span id="cb362-2"><a href="filter.html#cb362-2"></a>mergeddf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(id, perf_q1, gender, lastname, firstname)</span>
<span id="cb362-3"><a href="filter.html#cb362-3"></a></span>
<span id="cb362-4"><a href="filter.html#cb362-4"></a><span class="co"># View updated data frame</span></span>
<span id="cb362-5"><a href="filter.html#cb362-5"></a>mergeddf</span></code></pre></div>
<pre><code>## # A tibble: 9 x 5
##      id perf_q1 gender lastname   firstname
##   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;    
## 1   153     3.9 male   Sanchez    Alejandro
## 2   154    NA   male   McDonald   Ronald   
## 3   155    NA   male   Smith      John     
## 4   165    NA   female Doe        Jane     
## 5   125     2.1 male   Franklin   Benjamin 
## 6   111     3.3 male   Newton     Isaac    
## 7   198     4.9 female Morales    Linda    
## 8   201     1.2 female Providence Cindy    
## 9   282     2.2 male   Legend     John</code></pre>
</div>
<div id="without-pipe" class="section level3">
<h3><span class="header-section-number">10.3.2</span> <em>Without</em> Pipe</h3>
<p>If you decide not to use the pipe (<code>%&gt;%</code>) operator, the syntax remains almost the same except the name of the original data frame object (<code>mergeddf</code>) is moved from before the pipe (<code>%&gt;%</code>) operator to the first argument in the <code>select</code> function. Everything else remains the same.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="filter.html#cb364-1"></a><span class="co"># Select multiple variables without pipe</span></span>
<span id="cb364-2"><a href="filter.html#cb364-2"></a>mergeddf &lt;-<span class="st"> </span><span class="kw">select</span>(mergeddf, id, gender, lastname, firstname)</span>
<span id="cb364-3"><a href="filter.html#cb364-3"></a></span>
<span id="cb364-4"><a href="filter.html#cb364-4"></a><span class="co"># View updated data frame</span></span>
<span id="cb364-5"><a href="filter.html#cb364-5"></a>mergeddf</span></code></pre></div>
</div>
</div>
<div id="remove-multiple-variables-from-data-frame" class="section level2">
<h2><span class="header-section-number">10.4</span> Remove Multiple Variables from Data Frame</h2>
<p>If you wish to <em>remove multiple variables</em> from a data frame, the <code>select</code> function from <code>dplyr</code> will work just fine. I demonstrate how to use this function with and without pipes. If you don’t want to use pipes, feel free to skip down to the section called <em>Without Pipes</em>.</p>
<div id="with-pipe-1" class="section level3">
<h3><span class="header-section-number">10.4.1</span> <em>With</em> Pipe</h3>
<p>Using the pipe (<code>%&gt;%</code>) operator, first, decide whether you want to override an existing data frame or create a new data frame from the subset; here, I override the <code>mergeddf</code> data frame using the <code>&lt;-</code> operator, which results in <code>mergeddf &lt;-</code>. Second, type the name of the original data frame (<code>mergeddf</code>), followed by the pipe (<code>%&gt;%</code>) operator. Third, enter the <code>select</code> function. Fourth, use the <code>c</code> (combine) function with <code>-</code> in front of it to note that you want to select all other variables <em>except</em> the ones listed in the <code>c</code> function.</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="filter.html#cb365-1"></a><span class="co"># Remove multiple variables with pipe</span></span>
<span id="cb365-2"><a href="filter.html#cb365-2"></a>mergeddf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span><span class="kw">c</span>(lastname, firstname))</span>
<span id="cb365-3"><a href="filter.html#cb365-3"></a></span>
<span id="cb365-4"><a href="filter.html#cb365-4"></a><span class="co"># View updated data frame</span></span>
<span id="cb365-5"><a href="filter.html#cb365-5"></a>mergeddf</span></code></pre></div>
<pre><code>## # A tibble: 9 x 3
##      id perf_q1 gender
##   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; 
## 1   153     3.9 male  
## 2   154    NA   male  
## 3   155    NA   male  
## 4   165    NA   female
## 5   125     2.1 male  
## 6   111     3.3 male  
## 7   198     4.9 female
## 8   201     1.2 female
## 9   282     2.2 male</code></pre>
<p>Removing a single variable can also be done using the <code>select</code> function. To do so, just list a single variable with <code>-</code> in front of it (as the sole argument) to indicate that you wish to drop that variable.</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="filter.html#cb367-1"></a><span class="co"># Remove single variable with pipe</span></span>
<span id="cb367-2"><a href="filter.html#cb367-2"></a>mergeddf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>gender)</span>
<span id="cb367-3"><a href="filter.html#cb367-3"></a></span>
<span id="cb367-4"><a href="filter.html#cb367-4"></a><span class="co"># View updated data frame</span></span>
<span id="cb367-5"><a href="filter.html#cb367-5"></a>mergeddf</span></code></pre></div>
<pre><code>## # A tibble: 9 x 2
##      id perf_q1
##   &lt;dbl&gt;   &lt;dbl&gt;
## 1   153     3.9
## 2   154    NA  
## 3   155    NA  
## 4   165    NA  
## 5   125     2.1
## 6   111     3.3
## 7   198     4.9
## 8   201     1.2
## 9   282     2.2</code></pre>
</div>
<div id="without-pipe-1" class="section level3">
<h3><span class="header-section-number">10.4.2</span> <em>Without</em> Pipe</h3>
<p>If you decide <em>not</em> to use the pipe (<code>%&gt;%</code>) operator, the syntax remains mostly the same except the name of the original data frame object (<code>mergeddf</code>) is moved from before the pipe (<code>%&gt;%</code>) operator to the first argument in the <code>select</code> function. Everything else remains the same.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="filter.html#cb369-1"></a><span class="co"># Remove multiple variables without pipe</span></span>
<span id="cb369-2"><a href="filter.html#cb369-2"></a>mergeddf &lt;-<span class="st"> </span><span class="kw">select</span>(mergeddf, <span class="op">-</span><span class="kw">c</span>(lastname, firstname))</span>
<span id="cb369-3"><a href="filter.html#cb369-3"></a></span>
<span id="cb369-4"><a href="filter.html#cb369-4"></a><span class="co"># View updated data frame</span></span>
<span id="cb369-5"><a href="filter.html#cb369-5"></a>mergeddf</span></code></pre></div>
<p>And here’s the non-pipe equivalent to removing a single variable using this approach.</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="filter.html#cb370-1"></a><span class="co"># Remove single variable without pipe</span></span>
<span id="cb370-2"><a href="filter.html#cb370-2"></a>mergeddf &lt;-<span class="st"> </span>mergeddf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>gender)</span>
<span id="cb370-3"><a href="filter.html#cb370-3"></a></span>
<span id="cb370-4"><a href="filter.html#cb370-4"></a><span class="co"># View updated data frame</span></span>
<span id="cb370-5"><a href="filter.html#cb370-5"></a>mergeddf</span></code></pre></div>
</div>
</div>
<div id="summary" class="section level2">
<h2><span class="header-section-number">10.5</span> Summary</h2>
<p>Applying filters and creating subsets of cases (rows) and variables (columns) from a data frame is an important part of data management. The <code>dplyr</code> package has two useful functions that can be used for these purposes: <code>filter</code> and <code>select</code>.</p>

</div>
</div>



<h3>References</h3>
<div id="refs" class="references">
<div id="ref-R-readr">
<p>Wickham, Hadley, and Jim Hester. 2020. <em>Readr: Read Rectangular Text Data</em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="join.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="read-supplement.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R for HR.pdf", "R for HR.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
